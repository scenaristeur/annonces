{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/components/solid/AclCheck.vue?6234","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///src/components/solid/AclCheck.vue","webpack:///./src/components/solid/AclCheck.vue?2b63","webpack:///./src/components/solid/AclCheck.vue","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","arrayLike","result","step","iterator","next","value","O","C","Array","argumentsLength","mapfn","mapping","iteratorMethod","index","call","done","$","$entries","entries","target","stat","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","i","push","values","render","_vm","_h","$createElement","_c","_self","_l","e","attrs","_v","_s","errors","on","setAcl","_e","staticRenderFns","_arrayWithHoles","arr","isArray","_iterableToArrayLimit","Symbol","Object","_arr","_n","_d","_i","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","toString","slice","constructor","name","from","test","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","props","data","acl","methods","component","anObject","iteratorClose","fn","ENTRIES","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","forced","defineProperty","FunctionPrototype","Function","FunctionPrototypeToString","nameRE","NAME","configurable","get","match"],"mappings":"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","file":"js/chunk-3d0f94ce.60e669b9.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-list-group',_vm._l((_vm.errors),function(e,i){return _c('b-list-group-item',{key:i,attrs:{\"variant\":\"danger\"}},[_vm._v(\" \"+_vm._s(e)+\" \")])}),1),(_vm.errors.length > 0)?_c('b-button',{on:{\"click\":_vm.setAcl}},[_vm._v(\"Set Authorization\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","<template>\r\n  <div>\r\n\r\n    <!-- errors : {{ errors }}\r\n\r\n    {{authorizations}} -->\r\n    <b-list-group>\r\n      <b-list-group-item v-for=\"(e, i) in errors\" :key=\"i\" variant=\"danger\">\r\n        {{e}}\r\n      </b-list-group-item>\r\n\r\n    </b-list-group>\r\n\r\n\r\n\r\n\r\n    <!-- <a href=\"https://github.com/jeff-zucker/solid-file-client/issues/189\" target=\"_blank\">\r\n    More info about why You must change authorization on this folder</a>\r\n  </p> -->\r\n  <!-- You can do it manually at <a :href=\"path\" target=\"_blank\">{{ path }}</a> or use this button. <br> -->\r\n  <b-button @click=\"setAcl\" v-if=\"errors.length > 0\">Set Authorization</b-button>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport auth from 'solid-auth-client';\r\nimport FC from 'solid-file-client'\r\nconst fc = new FC( auth )\r\n\r\n// import {\r\n//   getPublicAccess,\r\n// } from \"@inrupt/solid-client/access/universal\";\r\n// import * as jsonld from 'jsonld';\r\n//import * as ttl2jsonld from '@frogcat/ttl2jsonld';\r\n\r\n\r\nexport default {\r\n  name: \"AclCheck\",\r\n  props: ['authorizations', 'webId'],\r\n  data() {\r\n    return {\r\n      acl: {},\r\n      errors: []\r\n    }\r\n  },\r\n  async created(){\r\n    this.init()\r\n  },\r\n  methods: {\r\n    async init(){\r\n      if (this.webId != null && this.authorizations!= null ){\r\n        for (const [key, value] of Object.entries(JSON.parse(this.authorizations))) {\r\n        //  console.log(key, value);\r\n          this.path = key\r\n          let remoteAcl = await this.checkRemoteAcl(key)\r\n          if (remoteAcl != null){\r\n            let auth = {}\r\n            auth[key] = value\r\n            auth.url = key\r\n            await this.comparaison(auth, remoteAcl)\r\n          }\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n\r\n\r\n    async comparaison(wanted, effective){\r\n      console.warn(\"Todo : reverse comparaison \")\r\n\r\n      let what = wanted.url\r\n\r\n      await this.compareWhat(wanted[what].accessTo, effective[what].accessTo, \"accessTo\")\r\n      await this.compareWhat(wanted[what].default, effective[what].default, \"default\")\r\n\r\n    },\r\n    async compareWhat(whatWanted, whatEffective, what){\r\n    //  console.log(\"compare\",whatWanted, whatEffective)\r\n      let modes = [\"Read\", \"Write\", \"Append\", \"Control\"]\r\n      for (const [key, value] of Object.entries(whatWanted)) {\r\n        !Object.prototype.hasOwnProperty.call(whatEffective, key) ? this.errors.push(\"Effective Acl does not have rule on \"+what+\" for \"+ key) : \"\"\r\n        value.type != whatEffective[key].type ? this.errors.push(\"Effective Acl does not have the  good type : \"+whatEffective[key].type+ \" instead of \"+ value.type): \"\"\r\n\r\n        modes.forEach((m) => {\r\n      //    console.log(value.mode[m], whatEffective[key].mode[m], value.mode[m] == whatEffective[key].mode[m])\r\n          value.mode[m] != whatEffective[key].mode[m] ? this.errors.push(m+\" Mode should be : \"+value.mode[m]+ \" instead of \"+ whatEffective[key].mode[m]): \"\"\r\n        });\r\n\r\n        // value.mode.Read.valueOf() == whatEffective[key].mode.Read.valueOf() ? this.errors.push(\"Read Mode should be : \"+value.mode.Read+ \" instead of \"+ whatEffective[key].mode.Read): \"\"\r\n        // value.mode.Write.valueOf() == whatEffective[key].mode.Write.valueOf() ? this.errors.push(\"Write Mode should be : \"+value.mode.Read+ \" instead of \"+ whatEffective[key].mode.Write): \"\"\r\n        // value.mode.Append.valueOf() == whatEffective[key].mode.Append.valueOf() ? this.errors.push(\"Append Mode should be : \"+value.mode.Read+ \" instead of \"+ whatEffective[key].mode.Append): \"\"\r\n        // value.mode.Control.valueOf() == whatEffective[key].mode.Control.valueOf() ? this.errors.push(\"Control Mode should be : \"+value.mode.Read+ \" instead of \"+ whatEffective[key].mode.Control): \"\"\r\n      }\r\n    },\r\n    async checkRemoteAcl(url){\r\n      let remoteAcl = null\r\n    //  console.log(url)\r\n\r\n\r\n\r\n      this.acl.status = \"cheching authorizations\"\r\n\r\n      this.acl.aclObject = await fc.aclUrlParser(url)\r\n\r\n    //  console.log(this.acl.aclObject)\r\n      if (Array.isArray(this.acl.aclObject)){\r\n        let auths = {}\r\n        auths[url] == undefined ? auths[url] = {accessTo: {}, default: {}} : \"\"\r\n        auths.array = []\r\n\r\n        let a = {what: url, accesTo: [], default: []}\r\n      //  console.log(\"Auths\", auths)\r\n\r\n        this.acl.aclObject.forEach((aclAuth) => {\r\n        //  console.log(aclAuth)\r\n          for (const [key, value] of Object.entries(aclAuth)) {\r\n          //  console.log(key, value);\r\n\r\n            let keySplit = key.split('&')\r\n            let agent = {type: keySplit[0], value: keySplit[1] }\r\n            let who = agent\r\n            let how = value.mode\r\n            let auth = {who: who, how: how}\r\n            //by path\r\n            //console.log(\"accessTo\",value.access.accessTo)\r\n            //console.log(\"default\",value.access.default)\r\n\r\n            if (\r\n              value.access.accessTo == 1){\r\n                auths[url].accessTo[keySplit[1]] = {type: keySplit[0], mode: value.mode}\r\n\r\n                a.accesTo.push(auth)\r\n\r\n              }\r\n\r\n              if (value.access.default == 1){\r\n                auths[url].default[keySplit[1]] = {type: keySplit[0], mode: value.mode}\r\n                a.default.push(auth)\r\n              }\r\n\r\n              auths.array.push(a)\r\n            }\r\n          });\r\n          //console.log(\"AUTHS\",auths)\r\n          remoteAcl = auths\r\n\r\n        }else{\r\n          this.errors.push(\"Can not read ACL, it is not an array\")\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        if(remoteAcl == null){\r\n          this.errors.push(\"I cannot get remote ACL for\"+ url)\r\n        }\r\n        return remoteAcl\r\n      },\r\n      async setAcl(){\r\n        this.errors = []\r\n        // according to recent solid-file-client changes : https://github.com/jeff-zucker/solid-file-client/issues/189#issuecomment-808966875\r\n        try{\r\n          this.acl.status = \"setting authorizations\"\r\n          const aclOwner = await fc.acl.addUserMode({}, [{ agent: this.webId }], ['Read', 'Write', 'Control'], ['accessTo', 'default'])\r\n          const aclUsers1 = await fc.acl.addUserMode({}, [{ agentClass: 'AuthenticatedAgent' }], ['Append'], ['default'])\r\n          const aclUsers2 = await fc.acl.addUserMode({}, [{ agentClass: 'AuthenticatedAgent' }], ['Append', 'Read'], ['accessTo'])\r\n\r\n          const aclUsers = [aclOwner, aclUsers1, aclUsers2]\r\n\r\n          const aclContentNew = await fc.acl.createContent(this.path, aclUsers)\r\n        //  console.log('build an aclContent ' + aclContentNew)\r\n\r\n          const { acl: aclUrl } = await fc.getItemLinks(this.path, { links: 'include_possible'})\r\n          //    const links = await fc.getItemLinks(inboxAnnonce, { links: 'include_possible'})\r\n\r\n          //  console.log(links)\r\n        //  let result =\r\n          await fc.putFile(aclUrl, aclContentNew, 'text/turtle')\r\n        //  console.log(\"result\",result)\r\n          //this.acl.status = \"OK\"\r\n          await this.init()\r\n        }catch(e){\r\n          this.errors.push(\"I can not write ACL :\"+ e)\r\n          alert(e)\r\n\r\n        }\r\n\r\n\r\n\r\n        // @prefix : <#>.\r\n        // @prefix acl: <http://www.w3.org/ns/auth/acl#>.\r\n        // @prefix foaf: <http://xmlns.com/foaf/0.1/>.\r\n        // @prefix target: <./>.\r\n        //\r\n        // :ReadAppend\r\n        //     a acl:Authorization;\r\n        //     acl:accessTo target:;\r\n        //     acl:agentClass acl:AuthenticatedAgent;\r\n        //     acl:mode acl:Read, acl:Append.\r\n        //\r\n        // :ReadWriteControl\r\n        //     a acl:Authorization;\r\n        //     acl:accessTo target:;\r\n        //     acl:default target:;\r\n        //     acl:agent </profile/card#me>;\r\n        //     acl:agent <https://bourgeoa.solidcommunity.net/profile/card#me>;\r\n        //     acl:mode acl:Read, acl:Write, acl:Control.\r\n\r\n        //       @prefix : <#>.\r\n        // @prefix acl: <http://www.w3.org/ns/auth/acl#>.\r\n        // @prefix foaf: <http://xmlns.com/foaf/0.1/>.\r\n        // @prefix target: <./>.\r\n        //\r\n        // :ReadAppend\r\n        //     a acl:Authorization;\r\n        //     acl:accessTo target:;\r\n        //     acl:agentClass acl:AuthenticatedAgent;\r\n        //     acl:mode acl:Read, acl:Append.\r\n        //\r\n        // :ReadWriteControl\r\n        //     a acl:Authorization;\r\n        //     acl:accessTo target:;\r\n        //     acl:agent </profile/card#me>;\r\n        //     acl:mode acl:Read, acl:Write, acl:Control.\r\n\r\n\r\n        // if (this.webId != null){\r\n        //   let inboxFolder = await ldflex.data.from(this.webId)[this.webId]['http://www.w3.org/ns/ldp#inbox']\r\n        //   let inboxAnnonce = `${inboxFolder}`+\"annonces/\"\r\n        //   if( !(await fc.itemExists(inboxAnnonce)) ) {\r\n        //     await fc.createFolder(inboxAnnonce) // only create if it doesn't already exist\r\n        //   }\r\n        //\r\n        //   let aclObject = await fc.aclUrlParser(inboxAnnonce)\r\n        //   console.log(\"inherit acl\",aclObject)\r\n        //   let aclContent = await fc.acl.createContent(inboxAnnonce, aclObject/*, options*/)\r\n        //   console.log(aclContent)\r\n        //\r\n        //   // add an other rule\r\n        //   let   aclUsers = await fc.acl.addUserMode({}, [{ agent: this.webId }], ['Read', 'Write', 'Control'], ['accessTo', 'default'])\r\n        //   aclUsers = await fc.acl.addUserMode(aclUsers, [{ agentClass: 'AuthenticatedAgent' }], ['Append'], ['default'])\r\n        //   aclUsers = await fc.acl.addUserMode(aclUsers, [{ agentClass: 'Agent' }], ['Append', 'Read'], ['accessTo'])\r\n        //\r\n        //   //      aclUsers = await fc.acl.addUserMode(aclUsers, [{ agent: 'https://bourgeoa.solidcommunity.net/profile/card#me' }], ['Read', 'Write', 'Control'], ['accessTo', 'default'])\r\n        //\r\n        //\r\n        //   //  let aclUsers = await fc.acl.addUserMode({}, [{ agentClass: 'AuthenticatedAgent'}], ['Read', 'Write'])\r\n        //   const aclContentNew = await fc.acl.createContent(inboxAnnonce, aclUsers)\r\n        //   console.log('build an aclContent ' + aclContentNew)\r\n        //\r\n        //   const { acl: aclUrl } = await fc.getItemLinks(inboxAnnonce, { links: 'include_possible'})\r\n        //   //    const links = await fc.getItemLinks(inboxAnnonce, { links: 'include_possible'})\r\n        //\r\n        //   //  console.log(links)\r\n        //   let result = await fc.putFile(aclUrl, aclContentNew, 'text/turtle')\r\n        //   console.log(\"result\",result)\r\n\r\n      },\r\n\r\n\r\n\r\n    },\r\n    watch:{\r\n      webId(){\r\n        this.init()\r\n      },\r\n      authorizations(){\r\n        this.init()\r\n      }\r\n    },\r\n  }\r\n  </script>\r\n\r\n  <style>\r\n\r\n  </style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AclCheck.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AclCheck.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AclCheck.vue?vue&type=template&id=fa970500&\"\nimport script from \"./AclCheck.vue?vue&type=script&lang=js&\"\nexport * from \"./AclCheck.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}
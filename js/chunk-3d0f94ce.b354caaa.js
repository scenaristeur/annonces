(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d0f94ce"],{"159b":function(t,e,a){var n=a("da84"),r=a("fdbc"),c=a("17c2"),o=a("9112");for(var s in r){var i=n[s],l=i&&i.prototype;if(l&&l.forEach!==c)try{o(l,"forEach",c)}catch(u){l.forEach=c}}},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,r=a("a640"),c=r("forEach");t.exports=c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"4df4":function(t,e,a){"use strict";var n=a("0366"),r=a("7b0b"),c=a("9bdd"),o=a("e95a"),s=a("50c4"),i=a("8418"),l=a("35a1");t.exports=function(t){var e,a,u,d,f,h,b=r(t),v="function"==typeof this?this:Array,g=arguments.length,p=g>1?arguments[1]:void 0,_=void 0!==p,m=l(b),A=0;if(_&&(p=n(p,g>2?arguments[2]:void 0,2)),void 0==m||v==Array&&o(m))for(e=s(b.length),a=new v(e);e>A;A++)h=_?p(b[A],A):b[A],i(a,A,h);else for(d=m.call(b),f=d.next,a=new v;!(u=f.call(d)).done;A++)h=_?c(d,p,[u.value,A],!0):u.value,i(a,A,h);return a.length=A,a}},"4fad":function(t,e,a){var n=a("23e7"),r=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return r(t)}})},"6f53":function(t,e,a){var n=a("83ab"),r=a("df75"),c=a("fc6a"),o=a("d1e7").f,s=function(t){return function(e){var a,s=c(e),i=r(s),l=i.length,u=0,d=[];while(l>u)a=i[u++],n&&!o.call(s,a)||d.push(t?[a,s[a]]:s[a]);return d}};t.exports={entries:s(!0),values:s(!1)}},"77db":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h5",[t._v("Acl for "+t._s(t.path)+" : ")]),"OK"!=t.acl.status?a("div",[a("h5",[t._v("ACL / Authorization verification : ")]),a("b-badge",{attrs:{variant:t.acl.color}},[t._v(t._s(t.acl.status))]),a("b-badge",{attrs:{variant:t.acl.color}},[t._v(t._s(t.acl.message))]),a("p",[t._v(" To allow other Authenticated Users to send you inbox message, you have to set correct Authorizations for "),a("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(t.path))]),t._v(" as i'm not sure the are good : "),a("ul",[a("li",[a("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(t.webId))]),t._v(" with "),a("b-badge",{attrs:{variant:"warning"}},[t._v("CONTROL")])],1),a("li",[t._v(' AuthenticatedAgent as "Poster" for the folder & "Submitters" for it\'s content ')])]),a("br"),t._v(" "+t._s(t.acl.aclObject)+" ")],1),a("hr"),a("p",[t._v(" Acl for "),a("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(t.path))]),a("b-list-group",t._l(t.acl.aclObject,(function(e,n){return a("b-list-group-item",{key:n},[e?a("div",[t._v(" aclAuth is ARRAY ? "+t._s(Array.isArray(e))+" "),t._l(Object.entries(e),(function(e,n){return a("div",{key:n},[e[1].mode?a("div",[a("h5",[t._v(t._s(e[0].split("&")[0])+" : "),a("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(e[0].split("&")[1]))])],1),a("b",[t._v("Can :")]),a("b-badge",{attrs:{variant:1==e[1].mode.Read?"success":"danger"}},[t._v("READ")]),a("b-badge",{attrs:{variant:1==e[1].mode.Append?"success":"danger"}},[t._v("APPEND")]),a("b-badge",{attrs:{variant:1==e[1].mode.Write?"success":"danger"}},[t._v("WRITE")]),a("b-badge",{attrs:{variant:1==e[1].mode.Control?"success":"danger"}},[t._v("CONTROL")]),a("br"),a("b",[t._v("What ?")]),1==e[1].access.accessTo?a("b-badge",[t._v(t._s(t.path))]):t._e(),1==e[1].access.default?a("div",[t._v("content of "),a("b-badge",[t._v(" "+t._s(t.path))])],1):t._e(),a("br"),a("br")],1):a("div",[t._v(" "+t._s(e[1])+" should have mode ")])])}))],2):t._e()])})),1)],1),t._v(" You can do it manually at "),a("a",{attrs:{href:t.path,target:"_blank"}},[t._v(t._s(t.path))]),t._v(" or use this button. "),a("br"),"KO"==t.acl.status?a("b-button",{on:{click:t.setAcl}},[t._v("Set Authorization")]):t._e()],1):a("div",[t._v(" ACL OK "+t._s(t.acl)+" ")])])},r=[];function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t){if(Array.isArray(t))return t}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function s(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],n=!0,r=!1,c=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)if(a.push(o.value),e&&a.length===e)break}catch(i){r=!0,c=i}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw c}}return a}}a("fb6a"),a("b0c0"),a("a630");function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function l(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){return o(t)||s(t,e)||l(t,e)||u()}var f=a("1da1"),h=(a("159b"),a("4fad"),a("1276"),a("ac1f"),a("96cf"),a("00e8")),b=a.n(h),v=a("7fed"),g=a.n(v),p=new g.a(b.a),_={name:"AclCheck",props:["path","authorizations","webId"],data:function(){return{acl:{status:"init",message:"I will check authorizations",color:"danger"}}},created:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.init();case 1:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(null!=t.webId&&t.path.length>0)){e.next=13;break}return t.acl.status="imagining a annonce folder",console.log(t.webId,t.path),e.next=5,p.itemExists(t.path);case 5:if(e.sent){e.next=9;break}return t.acl.status="creating folder",e.next=9,p.createFolder(t.path);case 9:return e.next=11,t.checkAcl("first run");case 11:e.next=15;break;case 13:t.acl.status="KO",t.acl.message="NO ACL FOUND";case 15:case"end":return e.stop()}}),e)})))()},checkAcl:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.acl.status="checking if folder exist",e.acl.status="cheching authorizations",a.next=4,p.aclUrlParser(e.path);case 4:return e.acl.aclObject=a.sent,console.log(t,"aclObject on ",e.path,JSON.stringify(e.acl.aclObject,void 0,2)),a.next=8,p.acl.createContent(e.path,e.acl.aclObject);case 8:e.acl.aclContent=a.sent,console.log(t,"aclcontent on ",e.path,e.acl.aclContent),console.log(t,"aclon ",e.path,e.acl),e.acl.status="KO",console.log(e.acl.aclObject),Array.isArray(e.acl.aclObject)?(n=[],e.acl.aclObject.forEach((function(t){console.log(t);for(var e=0,a=Object.entries(t);e<a.length;e++){var r=d(a[e],2),o=r[0],s=r[1];console.log(o,s);var i=o.split("&");void 0==n[i[0]]&&(n[i[0]]=c({},i[1],[])),void 0==n[i[0]][i[1]]?n[i[0]][i[1]]=[s]:n[i[0]][i[1]].push(s)}})),console.log("AUTHS",n),console.log(JSON.stringify(n,null,2))):(console.log("is not ARRAY"),e.acl.status="KO",e.acl.message="is not an array");case 14:case"end":return a.stop()}}),a)})))()},setAcl:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,n,r,c,o,s,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.acl.status="setting authorizations",e.next=4,p.acl.addUserMode({},[{agent:t.webId}],["Read","Write","Control"],["accessTo","default"]);case 4:return a=e.sent,e.next=7,p.acl.addUserMode({},[{agentClass:"AuthenticatedAgent"}],["Append"],["default"]);case 7:return n=e.sent,e.next=10,p.acl.addUserMode({},[{agentClass:"AuthenticatedAgent"}],["Append","Read"],["accessTo"]);case 10:return r=e.sent,c=[a,n,r],e.next=14,p.acl.createContent(t.path,c);case 14:return o=e.sent,console.log("build an aclContent "+o),e.next=18,p.getItemLinks(t.path,{links:"include_possible"});case 18:return s=e.sent,i=s.acl,e.next=22,p.putFile(i,o,"text/turtle");case 22:return l=e.sent,console.log("result",l),e.next=26,t.checkAcl("after update");case 26:e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](0),t.acl.status="ERROR : "+e.t0,alert(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})))()}},watch:{webId:function(){this.init()},path:function(){this.init()}}},m=_,A=a("2877"),w=Object(A["a"])(m,n,r,!1,null,null,null);e["default"]=w.exports},"9bdd":function(t,e,a){var n=a("825a"),r=a("2a62");t.exports=function(t,e,a,c){try{return c?e(n(a)[0],a[1]):e(a)}catch(o){throw r(t),o}}},a630:function(t,e,a){var n=a("23e7"),r=a("4df4"),c=a("1c7e"),o=!c((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:r})},b0c0:function(t,e,a){var n=a("83ab"),r=a("9bf2").f,c=Function.prototype,o=c.toString,s=/^\s*function ([^ (]*)/,i="name";n&&!(i in c)&&r(c,i,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-3d0f94ce.b354caaa.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af80c1a8"],{"159b":function(n,t,e){var r=e("da84"),o=e("fdbc"),u=e("17c2"),i=e("9112");for(var c in o){var a=r[c],f=a&&a.prototype;if(f&&f.forEach!==u)try{i(f,"forEach",u)}catch(l){f.forEach=u}}},"16a6":function(n,t,e){(function(t,e){n.exports=e()})(window,(function(){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){n.exports=e(1).default},function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"atPos",(function(){return O})),e.d(r,"lowerRight",(function(){return S})),e.d(r,"upperRight",(function(){return E})),e.d(r,"lowerLeft",(function(){return j})),e.d(r,"upperLeft",(function(){return I})),e.d(r,"center",(function(){return U}));var o={};function u(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduce((function(n,t){return t.call(null,n)}),n)}}function i(n){return n}function c(n){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c(n)}function a(n,t,e){n.onload=function(){return e(n)},n.src=t}function f(n){var t=c(n);return"string"===t?s:n instanceof Image?i:d}function l(n,t){for(var e=[],r=0;r<n.length;r++){var o=n[r],u=f(o),i=u(o,t);e.push(i)}return Promise.all(e)}function s(n,t){var e=new Image;return"function"===typeof t&&t(e),new Promise((function(t){e.onload=function(){return t(e)},e.src=n}))}function d(n){var t=new FileReader;return new Promise((function(e){var r=new Image;t.onloadend=function(){return a(r,t.result,e)},t.readAsDataURL(n)}))}function h(n,t){var e=new Image;return"function"===typeof t&&(e.onload=t),e.src=n,e}function p(n,t){var e=t.getContext("2d");return t.width=n.width,t.height=n.height,e.drawImage(n,0,0),t}function v(n,t){var e=t.pop();return p(n,e)}function g(n,t){return n.map((function(n){return v(n,t)}))}function m(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"image/png",encoderOptions:.92};return n.toDataURL(t.type,t.encoderOptions)}e.r(o),e.d(o,"atPos",(function(){return k})),e.d(o,"lowerRight",(function(){return A})),e.d(o,"lowerLeft",(function(){return _})),e.d(o,"upperRight",(function(){return P})),e.d(o,"upperLeft",(function(){return C})),e.d(o,"center",(function(){return L}));var w=/^data:([^;]+);base64,(.*)$/;function b(n){return w.exec(n).slice(1)}function y(n){return window.atob(n)}function x(n){for(var t=n.length,e=new Uint8Array(t),r=0;r<t;r++)e[r]=n.charCodeAt(r);return e}var R=u(b,(function(n){return[y(n[1]),n[0]]}),(function(n){return new Blob([x(n[0])],{type:n[1]})}));function O(n,t,e){return e||(e=1),function(r,o){var u=r.getContext("2d");return u.save(),u.globalAlpha=e,u.drawImage(o,n(r,o),t(r,o)),u.restore(),r}}function S(n){return O((function(n,t){return n.width-(t.width+10)}),(function(n,t){return n.height-(t.height+10)}),n)}function E(n){return O((function(n,t){return n.width-(t.width+10)}),(function(n,t){return 10}),n)}function j(n){return O((function(n,t){return 10}),(function(n,t){return n.height-(t.height+10)}),n)}function I(n){return O((function(n,t){return 10}),(function(n,t){return 10}),n)}function U(n){return O((function(n,t){return(n.width-t.width)/2}),(function(n,t){return(n.height-t.height)/2}),n)}function k(n,t,e,r,o,u){return u||(u=1),function(i){var c=i.getContext("2d");c.save(),c.globalAlpha=u,c.fillStyle=o,c.font=r;var a=c.measureText(e);return c.fillText(e,n(i,a,c),t(i,a,c)),c.restore(),i}}function A(n,t,e,r,o){return k((function(n,t){return n.width-(t.width+10)}),(function(n){return o||n.height-10}),n,t,e,r)}function _(n,t,e,r,o){return k((function(){return 10}),(function(n){return o||n.height-10}),n,t,e,r)}function P(n,t,e,r,o){return k((function(n,t){return n.width-(t.width+10)}),(function(){return o||20}),n,t,e,r)}function C(n,t,e,r,o){return k((function(){return 10}),(function(){return o||20}),n,t,e,r)}function L(n,t,e,r,o){return k((function(n,t,e){return e.textAlign="center",n.width/2}),(function(n,t,e){return e.textBaseline="middle",n.height/2}),n,t,e,r)}var T=r,F=o;function $(n,t){var e=n.apply(null,t);return{canvas:e,sources:t}}function M(n,t){var e=Object.keys(t);return e.forEach((function(e){return n[e]=t[e]})),n}function B(n){return M({},n)}function D(){var n=[];return{pop:function(){return 0===this.length&&n.push(document.createElement("canvas")),n.pop()},get length(){return n.length},release:function(t){var e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),n.push(t)},clear:function(){n.splice(0,n.length)},get elements(){return n}}}var J=D(),q=J;e.d(t,"default",(function(){return K}));var z={init:function(){},type:"image/png",encoderOptions:.92};function G(n){return M(B(z),n)}function H(n,t,e){var r=n.canvas,o=n.sources,u=m(r,e);return o.forEach(t.release),u}function K(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=G(t);return e||(e=l(n,r.init)),{dataUrl:function(t){var e=this.then((function(n){return g(n,q)})).then((function(n){return $(t,n)})).then((function(n){return H(n,q,{type:r.type,encoderOptions:r.encoderOptions})}));return K(n,r,e)},load:function(n,t){var e=this.then((function(e){return l([e].concat(n),t)}));return K(n,r,e)},render:function(){var t=this.then((function(n){return l([n])}));return K(n,r,t)},blob:function(t){var e=this.dataUrl(t).then(R);return K(n,r,e)},image:function(t){var e=this.dataUrl(t).then(h);return K(n,r,e)},then:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.then.apply(e,t)}}}K.image=T,K.text=F,K.destroy=function(){return q.clear()}}])}))},"17c2":function(n,t,e){"use strict";var r=e("b727").forEach,o=e("a640"),u=o("forEach");n.exports=u?[].forEach:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}},2532:function(n,t,e){"use strict";var r=e("23e7"),o=e("5a34"),u=e("1d80"),i=e("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(n){return!!~String(u(this)).indexOf(o(n),arguments.length>1?arguments[1]:void 0)}})},"466d":function(n,t,e){"use strict";var r=e("d784"),o=e("825a"),u=e("50c4"),i=e("1d80"),c=e("8aa5"),a=e("14c3");r("match",1,(function(n,t,e){return[function(t){var e=i(this),r=void 0==t?void 0:t[n];return void 0!==r?r.call(t,e):new RegExp(t)[n](String(e))},function(n){var r=e(t,n,this);if(r.done)return r.value;var i=o(n),f=String(this);if(!i.global)return a(i,f);var l=i.unicode;i.lastIndex=0;var s,d=[],h=0;while(null!==(s=a(i,f))){var p=String(s[0]);d[h]=p,""===p&&(i.lastIndex=c(f,u(i.lastIndex),l)),h++}return 0===h?null:d}]}))},"5a34":function(n,t,e){var r=e("44e7");n.exports=function(n){if(r(n))throw TypeError("The method doesn't accept regular expressions");return n}},"93b7":function(n,t,e){"use strict";e.r(t);var r=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"container"},[e("b-form-file",{attrs:{multiple:"",accept:"image/*",state:Boolean(n.files),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},on:{input:n.onInput},model:{value:n.files,callback:function(t){n.files=t},expression:"files"}}),e("div",{ref:"preview"}),e("b-button",{on:{click:n.send}},[n._v("Send")]),e("br"),e("small",[n._v("images : "+n._s(n.images))])],1)},o=[],u=e("1da1"),i=(e("96cf"),e("159b"),e("b0c0"),e("fb6a"),e("caad"),e("2532"),e("1276"),e("ac1f"),e("466d"),e("5cc6"),e("9a8c"),e("a975"),e("735e"),e("c1ac"),e("d139"),e("3a7b"),e("d5d6"),e("82f8"),e("e91f"),e("60bd"),e("5f96"),e("3280"),e("3fcc"),e("ca91"),e("25a1"),e("cd26"),e("3c5d"),e("2954"),e("649e"),e("219c"),e("170b"),e("b39a"),e("72f7"),e("d3b7"),e("7fed")),c=e.n(i),a=e("16a6"),f=e.n(a),l=window.solid,s=new c.a(window.solid.auth),d={name:"Upload",props:["images"],data:function(){return{files:null}},methods:{onInput:function(n){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n),r=t.$refs.preview,e.next=4,l.data.user.storage;case 4:return o=e.sent,i="".concat(o)+"public/portfolio/",e.next=8,n.forEach(function(){var n=Object(u["a"])(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log(t),f()([t]).image(f.a.text.center(i,"30px Josefin Slab","#fff",.8)).then((function(n){n.name=t.name,n.type=t.type,n.width="250",n.height="250",r.appendChild(n)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))()},send:function(){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var e,r,o,i,c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n,r=n.$refs.preview,o=n.dataURLtoFile,i=[].slice.call(r.children),console.log(i),t.next=7,l.data.user.storage;case 7:return c=t.sent,a="".concat(c)+"public/portfolio/",console.log(a),t.prev=10,t.next=13,i.forEach(function(){var n=Object(u["a"])(regeneratorRuntime.mark((function n(t){var r,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=encodeURI(a+t.name),console.log(r),!e.images.includes(r)&&e.images.push(r),u=o(t.src,t.name),n.next=6,s.createFile(r,u,t.type);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 13:alert(i.length+" fichiers sauvegardés"),n.$emit("imagesUploaded",e.images),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](10),alert(t.t0);case 20:case"end":return t.stop()}}),t,null,[[10,17]])})))()},dataURLtoFile:function(n,t){var e=n.split(","),r=e[0].match(/:(.*?);/)[1],o=atob(e[1]),u=o.length,i=new Uint8Array(u);while(u--)i[u]=o.charCodeAt(u);return new File([i],t,{type:r})}}},h=d,p=e("2877"),v=Object(p["a"])(h,r,o,!1,null,null,null);t["default"]=v.exports},ab13:function(n,t,e){var r=e("b622"),o=r("match");n.exports=function(n){var t=/./;try{"/./"[n](t)}catch(e){try{return t[o]=!1,"/./"[n](t)}catch(r){}}return!1}},caad:function(n,t,e){"use strict";var r=e("23e7"),o=e("4d64").includes,u=e("44d2");r({target:"Array",proto:!0},{includes:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}}),u("includes")}}]);
//# sourceMappingURL=chunk-af80c1a8.3a5c7540.js.map
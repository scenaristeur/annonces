(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["annonceList"],{2138:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[null!=t.webId?n("div",[n("div",{staticClass:"d-flex"},[n("b-button",{staticClass:"ml-auto",attrs:{variant:"info"},on:{click:t.edit}},[t._v("Add a new annonce")])],1),n("h3",[t._v("My Annonces")]),n("b-table",{attrs:{striped:"",hover:"",items:t.annoncesMy,fields:t.fields,responsive:""},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[n("b-button",{staticStyle:{"margin-left":"auto"},attrs:{size:"sm",variant:"light"},on:{click:function(n){return t.edit(e.item)}}},[n("b-icon",{attrs:{icon:"pen"}})],1),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-center",modifiers:{"modal-center":!0}}],staticStyle:{"margin-left":"auto"},attrs:{size:"sm",variant:"danger"},on:{click:function(n){return t.showDeleteConfirm(e.item)}}},[n("b-icon",{attrs:{icon:"trash"}})],1)]}}],null,!1,2040575463)})],1):n("div",[t._v(" You must login to manage your annonces. ")]),n("b-modal",{attrs:{id:"modal-center",variant:"danger",centered:"",title:"Delete"},on:{ok:t.onDelete}},[n("div",{staticClass:"p-3",domProps:{innerHTML:t._s(t.deleteMessage)}})])],1)},o=[],a={name:"AnnonceList",components:{},data:function(){return{deleteMessage:"",fields:[{key:"action",label:"",variant:"secondary",stickyColumn:!0},{key:"title",sortable:!0},{key:"category",sortable:!0},{key:"price",sortable:!0,variant:"info",formatter:function(t,e,n){return n.price+" "+n.currency||"**"}},{key:"created",sortable:!0,formatter:function(t){return new Date(t).toLocaleDateString()}},{key:"images",label:"pics",sortable:!0,formatter:function(t){return t.length}}]}},created:function(){this.init()},methods:{edit:function(t){this.$router.push({name:"Edit",params:{id:t.id}})},showDeleteConfirm:function(t){this.deleteMessage='<b-alert show variant="danger">Do you really want to delete <b>'+t.title+"</b></b-alert>",this.idToDelete=t.id},onDelete:function(){console.log("delete"),this.$store.dispatch("annonce/delete",this.idToDelete)},init:function(){null!=this.storage&&this.$store.dispatch("annonce/initMy")}},watch:{storage:function(){this.init()}},computed:{webId:function(){return this.$store.state.solid.webId},storage:function(){return this.$store.state.solid.storage},annoncesMy:function(){return this.$store.state.annonce.annoncesMy}}},s=a,r=n("2877"),l=Object(r["a"])(s,i,o,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=annonceList.13dd722f.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-949776d4"],{"129f":function(n,e){n.exports=Object.is||function(n,e){return n===e?0!==n||1/n===1/e:n!=n&&e!=e}},"841c":function(n,e,t){"use strict";var a=t("d784"),i=t("825a"),r=t("1d80"),s=t("129f"),c=t("14c3");a("search",1,(function(n,e,t){return[function(e){var t=r(this),a=void 0==e?void 0:e[n];return void 0!==a?a.call(e,t):new RegExp(e)[n](String(t))},function(n){var a=t(e,n,this);if(a.done)return a.value;var r=i(n),o=String(this),u=r.lastIndex;s(u,0)||(r.lastIndex=0);var l=c(r,o);return s(r.lastIndex,u)||(r.lastIndex=u),null===l?-1:l.index}]}))},9823:function(n,e,t){"use strict";t.r(e);var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("AnnonceSearch",{on:{searchChanged:n.searchChanged}}),t("b-list-group",n._l(n.annonces,(function(e){return t("AnnonceCard",{key:e.url,attrs:{annonce:e,search:n.search}})})),1),t("infinite-loading",{attrs:{identifier:n.infiniteId,spinner:"waveDots"},on:{infinite:n.infiniteHandler}}),t("b-alert",{staticClass:"position-fixed fixed-bottom rounded-3",staticStyle:{"z-index":"2000",bottom:"0px"},attrs:{variant:"info",dismissible:""},model:{value:n.busy,callback:function(e){n.busy=e},expression:"busy"}},[n._v(n._s(n.title)+" ")])],1)},i=[],r=t("1da1"),s=t("668b"),c=(t("96cf"),t("d3b7"),t("3ca3"),t("ddb0"),t("c740"),t("841c"),t("ac1f"),t("a15b"),t("fb6a"),window.solid),o={name:"TimeLoader",props:["root","start"],components:{AnnonceSearch:function(){return t.e("chunk-3a0d1297").then(t.bind(null,"2308"))},InfiniteLoading:function(){return t.e("chunk-2d224922").then(t.t.bind(null,"e166",7))},AnnonceCard:function(){return t.e("chunk-197ddbcc").then(t.bind(null,"ca27"))}},data:function(){return{page:1,annonces:[],limite:null,search:"",infiniteId:+new Date,title:"",busy:!1}},created:function(){this.init()},methods:{init:function(){console.log("todo : insert this.annoncesAll deja recupérées en cache"),this.limite=void 0!=this.start?new Date(this.start):new Date("02/01/2021"),this.date=new Date,this.infiniteId+=1},infiniteHandler:function(n){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,r,o,u,l,d,h,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.limite<=e.date)){t.next=50;break}e.busy=!0,a=e.getPath(),i=a+"#this",t.prev=4,e.title="loading "+e.date.toLocaleDateString(),r=!0,o=!1,t.prev=8,l=function(){var n=f,t=e.annonces.findIndex((function(e){return e.url==="".concat(n)}));-1===t&&e.annonces.push({url:"".concat(n)})},d=Object(s["a"])(c.data[i]["http://purl.org/dc/terms/hasPart"]);case 11:return t.next=13,d.next();case 13:return h=t.sent,r=h.done,t.next=17,h.value;case 17:if(f=t.sent,r){t.next=23;break}l();case 20:r=!0,t.next=11;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](8),o=!0,u=t.t0;case 29:if(t.prev=29,t.prev=30,r||null==d.return){t.next=34;break}return t.next=34,d.return();case 34:if(t.prev=34,!o){t.next=37;break}throw u;case 37:return t.finish(34);case 38:return t.finish(29);case 39:t.next=44;break;case 41:t.prev=41,t.t1=t["catch"](4),console.log("nothing on",a);case 44:e.date.setDate(e.date.getDate()-1),n.loaded(),e.busy=!1,e.$store.commit("annonce/setAnnoncesAll",e.annonces),t.next=51;break;case 50:n.complete();case 51:case"end":return t.stop()}}),t,null,[[4,41],[8,25,29,39],[30,,34,38]])})))()},searchChanged:function(n){this.search=n,console.log(n),this.annonces=[],this.init()},getPath:function(){var n=this.root;return n+=[this.date.getFullYear(),("0"+(this.date.getMonth()+1)).slice(-2),("0"+this.date.getDate()).slice(-2)].join("/"),n+=".ttl",n},makeToast:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(e,{title:n,variant:t,solid:!0})}},computed:{annoncesAll:{get:function(){return this.$store.state.annonce.annoncesAll},set:function(){}}}},u=o,l=t("2877"),d=Object(l["a"])(u,a,i,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-949776d4.78515441.js.map
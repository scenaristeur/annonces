{"map":{"version":3,"sources":["js/chunk-2d224d23.364e197b.js"],"names":["window","push","e288","module","__webpack_exports__","__webpack_require__","r","render","_vm","this","_h","$createElement","_c","_self","_v","_s","messages","length","_l","m","key","url","created","creator","annonce","title","text","staticStyle","margin-left","attrs","variant","on","click","$event","reply","icon","directives","name","rawName","modifiers","message-delete","showDeleteConfirm","id","centered","ok","onDelete","staticClass","domProps","innerHTML","deleteMessage","staticRenderFns","asyncToGenerator","browser","browser_default","n","solid_file_client_bundle","solid_file_client_bundle_default","fc","a","ldflex","solid","AnnonceInboxvue_type_script_lang_js_","data","_this","Object","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","readInbox","stop","methods","_this2","_callee2","inboxFolder","inboxAnnonce","folder","files","f","_context2","webId","from","sent","concat","readFolder","console","log","sort","b","Date","getTime","shift","t0","JSON","readFile","t1","parse","call","_this3","_callee3","_context3","deleteFile","urlToDelete","watch","computed","$store","state","annonce_AnnonceInboxvue_type_script_lang_js_","componentNormalizer","component"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d224d23\"],{e288:function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"b-list-group\",[e._v(\" INBOX ( \"+e._s(e.messages.length)+\" messages ) \"),e._l(e.messages,(function(t){return n(\"b-list-group-item\",{key:t.url},[e._v(\" \"+e._s(t.created)+\" / \"+e._s(t.creator)+\" : \"),n(\"b\",[e._v(e._s(t.annonce.title))]),e._v(\" ::: \"+e._s(t.text)+\" \"),n(\"b-button\",{staticStyle:{\"margin-left\":\"auto\"},attrs:{variant:\"light\"},on:{click:function(n){return e.reply(t)}}},[n(\"b-icon\",{attrs:{icon:\"pen\"}})],1),n(\"b-button\",{directives:[{name:\"b-modal\",rawName:\"v-b-modal.message-delete\",modifiers:{\"message-delete\":!0}}],staticStyle:{\"margin-left\":\"auto\"},attrs:{variant:\"danger\"},on:{click:function(n){return e.showDeleteConfirm(t)}}},[n(\"b-icon\",{attrs:{icon:\"trash\"}})],1)],1)})),n(\"b-modal\",{attrs:{id:\"message-delete\",centered:\"\",title:\"Delete\"},on:{ok:e.onDelete}},[n(\"div\",{staticClass:\"p-3\",domProps:{innerHTML:e._s(e.deleteMessage)}})])],2)},a=[],s=n(\"1da1\"),o=(n(\"96cf\"),n(\"00e8\")),i=n.n(o),c=n(\"7fed\"),u=n.n(c),l=new u.a(i.a),d=window.solid,m={name:\"AnnonceInbox\",data:function(){return{messages:[],deleteMessage:\"\"}},created:function(){var e=this;return Object(s[\"a\"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.readInbox();case 1:case\"end\":return t.stop()}}),t)})))()},methods:{readInbox:function(){var e=this;return Object(s[\"a\"])(regeneratorRuntime.mark((function t(){var n,r,a,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==e.webId){t.next=24;break}return t.next=3,d.data.from(e.webId)[e.webId][\"http://www.w3.org/ns/ldp#inbox\"];case 3:return n=t.sent,r=\"\".concat(n)+\"annonces/\",t.next=7,l.readFolder(r);case 7:a=t.sent,console.log(a),s=a.files.sort((function(e,t){return new Date(t.created).getTime()-new Date(e.created).getTime()})),e.messages=[];case 11:if(!(s.length>0)){t.next=24;break}return o=s.shift(),t.t0=JSON,t.next=16,l.readFile(o.url);case 16:return t.t1=t.sent,t.next=19,t.t0.parse.call(t.t0,t.t1);case 19:i=t.sent,i.url=o.url,e.messages.push(i),t.next=11;break;case 24:case\"end\":return t.stop()}}),t)})))()},onDelete:function(){var e=this;return Object(s[\"a\"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(\"delete\"),t.next=3,l.deleteFile(e.urlToDelete);case 3:e.readInbox();case 4:case\"end\":return t.stop()}}),t)})))()},showDeleteConfirm:function(e){this.deleteMessage=\"Do you want to delete <b>\"+e.url+\"</b>\",this.urlToDelete=e.url}},watch:{webId:function(){this.readInbox()}},computed:{webId:function(){return this.$store.state.solid.webId}}},b=m,w=n(\"2877\"),f=Object(w[\"a\"])(b,r,a,!1,null,null,null);t[\"default\"]=f.exports}}]);","extractedComments":[]}
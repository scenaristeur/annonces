{"remainingRequest":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\src\\components\\scanner\\Scan.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\src\\components\\scanner\\Scan.vue","mtime":1616696128925},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCi8qIGVzbGludC1kaXNhYmxlICovDQppbXBvcnQgeyBjcmVhdGVXb3JrZXIsIFBTTSwgT0VNIH0gZnJvbSAndGVzc2VyYWN0LmpzJzsNCmxldCB3b3JrZXIgPSB7fQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTY2FuIiwNCiAgY29tcG9uZW50czogew0KICAgICdVcGxvYWQnOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wb3J0Zm9saW8vVXBsb2FkJyksDQogIH0sDQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICBzY2FuOiB7aW1hZ2VzOiBbXX0sDQogICAgICB0ZXh0OiAiIiwNCiAgICAgIGxhbmdzZWw6ICJlbmciLA0KICAgICAgbG9nZ2VyIDoge30NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKXsNCiAgICBjb25zb2xlLmxvZyhuYXZpZ2F0b3IubGFuZ3VhZ2UpDQogICAgd29ya2VyID0gY3JlYXRlV29ya2VyKHsNCiAgICAgIGxvZ2dlcjogbSA9PiB0aGlzLnByb2dyZXNzVXBkYXRlKG0pLA0KICAgIH0pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW1hZ2VzVXBsb2FkZWQoaW1hZ2VzKXsNCiAgICAgIGNvbnNvbGUubG9nKGltYWdlcykNCiAgICAgIC8vICB0aGlzLnNjYW4uaW1hZ2VzID0gaW1hZ2VzDQogICAgICBjb25zb2xlLmxvZyh0aGlzLnNjYW4pDQogICAgICBpbWFnZXMuZm9yRWFjaChhc3luYyAoaXRlbSwgaSkgPT4gew0KICAgICAgICBhd2FpdCB0aGlzLnJlY29nbml6ZShpdGVtKQ0KICAgICAgICBjb25zb2xlLmxvZyhpKQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyByZWNvZ25pemUgKHVybCl7DQogICAgICAvLyAgY29uc3QgaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQtaW1nJyk7DQogICAgICAvL2NvbnNvbGUubG9nKGltZyk7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLmxhbmdzZWwpDQogICAgICBhd2FpdCB3b3JrZXIubG9hZCgpOw0KICAgICAgYXdhaXQgd29ya2VyLmxvYWRMYW5ndWFnZSh0aGlzLmxhbmdzZWwpOw0KICAgICAgYXdhaXQgd29ya2VyLmluaXRpYWxpemUodGhpcy5sYW5nc2VsLCBPRU0uTFNUTV9PTkxZKTsNCiAgICAgIGF3YWl0IHdvcmtlci5zZXRQYXJhbWV0ZXJzKHsNCiAgICAgICAgdGVzc2VkaXRfcGFnZXNlZ19tb2RlOiBQU00uU0lOR0xFX0JMT0NLLA0KICAgICAgfSk7DQogICAgICBjb25zdCB7IGRhdGE6IHsgdGV4dCB9IH0gPSBhd2FpdCB3b3JrZXIucmVjb2duaXplKHVybCkNCiAgICAgIHRoaXMudGV4dCArPSB0ZXh0DQoNCg0KICAgIH0sDQoNCiAgICBwcm9ncmVzc1VwZGF0ZShwYWNrZXQpew0KICAgICAgdmFyIGxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2cnKTsNCg0KICAgICAgaWYobG9nLmZpcnN0Q2hpbGQgJiYgbG9nLmZpcnN0Q2hpbGQuc3RhdHVzID09PSBwYWNrZXQuc3RhdHVzKXsNCiAgICAgICAgaWYoJ3Byb2dyZXNzJyBpbiBwYWNrZXQpew0KICAgICAgICAgIHZhciBwcm9ncmVzcyA9IGxvZy5maXJzdENoaWxkLnF1ZXJ5U2VsZWN0b3IoJ3Byb2dyZXNzJykNCiAgICAgICAgICBwcm9ncmVzcy52YWx1ZSA9IHBhY2tldC5wcm9ncmVzcw0KICAgICAgICB9DQogICAgICB9ZWxzZXsNCiAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgbGluZS5zdGF0dXMgPSBwYWNrZXQuc3RhdHVzOw0KICAgICAgICB2YXIgc3RhdHVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykNCiAgICAgICAgc3RhdHVzLmNsYXNzTmFtZSA9ICdzdGF0dXMnDQogICAgICAgIHN0YXR1cy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwYWNrZXQuc3RhdHVzKSkNCiAgICAgICAgbGluZS5hcHBlbmRDaGlsZChzdGF0dXMpDQoNCiAgICAgICAgaWYoJ3Byb2dyZXNzJyBpbiBwYWNrZXQpew0KICAgICAgICAgIHZhciBwcm9ncmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Byb2dyZXNzJykNCiAgICAgICAgICBwcm9ncmVzcy52YWx1ZSA9IHBhY2tldC5wcm9ncmVzcw0KICAgICAgICAgIHByb2dyZXNzLm1heCA9IDENCiAgICAgICAgICBsaW5lLmFwcGVuZENoaWxkKHByb2dyZXNzKQ0KICAgICAgICB9DQoNCg0KICAgICAgICBpZihwYWNrZXQuc3RhdHVzID09ICdkb25lJyl7DQogICAgICAgICAgbG9nLmlubmVySFRNTCA9ICcnDQogICAgICAgICAgdmFyIHByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpDQogICAgICAgICAgcHJlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhY2tldC5kYXRhLnRleHQucmVwbGFjZSgvXG5ccypcbi9nLCAnXG4nKSkpDQogICAgICAgICAgbGluZS5pbm5lckhUTUwgPSAnJw0KICAgICAgICAgIGxpbmUuYXBwZW5kQ2hpbGQocHJlKQ0KICAgICAgICAgICQoIi5mYXMiKS5yZW1vdmVDbGFzcygnZmEtc3Bpbm5lciBmYS1zcGluJykNCiAgICAgICAgICAkKCIuZmFzIikuYWRkQ2xhc3MoJ2ZhLWNoZWNrJykNCiAgICAgICAgfQ0KDQogICAgICAgIGxvZy5pbnNlcnRCZWZvcmUobGluZSwgbG9nLmZpcnN0Q2hpbGQpDQogICAgICB9DQogICAgfSwNCg0KDQogICAgcmVzZXRUZXh0KCkNCiAgICB7DQogICAgICB0aGlzLmxvZ2dlciA9IHt9DQogICAgICB0aGlzLnRleHQgPSAiIg0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Scan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Scan.vue","sourceRoot":"src/components/scanner","sourcesContent":["<template>\r\n  <div class=\"container mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12 col-md-4 \">\r\n        <select v-model=\"langsel\">\r\n          <option value='afr'     > Afrikaans             </option>\r\n          <option value='ara'     > Arabic                </option>\r\n          <option value='aze'     > Azerbaijani           </option>\r\n          <option value='bel'     > Belarusian            </option>\r\n          <option value='ben'     > Bengali               </option>\r\n          <option value='bul'     > Bulgarian             </option>\r\n          <option value='cat'     > Catalan               </option>\r\n          <option value='ces'     > Czech                 </option>\r\n          <option value='chi_sim' > Chinese               </option>\r\n          <option value='chi_tra' > Traditional Chinese   </option>\r\n          <option value='chr'     > Cherokee              </option>\r\n          <option value='dan'     > Danish                </option>\r\n          <option value='deu'     > German                </option>\r\n          <option value='ell'     > Greek                 </option>\r\n          <option value='eng'     selected> English       </option>\r\n          <option value='enm'     > English (Old)         </option>\r\n          <option value='meme'    > Internet Meme         </option>\r\n          <option value='epo'     > Esperanto             </option>\r\n          <option value='epo_alt' > Esperanto alternative </option>\r\n          <option value='equ'     > Math                  </option>\r\n          <option value='est'     > Estonian              </option>\r\n          <option value='eus'     > Basque                </option>\r\n          <option value='fin'     > Finnish               </option>\r\n          <option value='fra'     > French                </option>\r\n          <option value='frk'     > Frankish              </option>\r\n          <option value='frm'     > French (Old)          </option>\r\n          <option value='glg'     > Galician              </option>\r\n          <option value='grc'     > Ancient Greek         </option>\r\n          <option value='heb'     > Hebrew                </option>\r\n          <option value='hin'     > Hindi                 </option>\r\n          <option value='hrv'     > Croatian              </option>\r\n          <option value='hun'     > Hungarian             </option>\r\n          <option value='ind'     > Indonesian            </option>\r\n          <option value='isl'     > Icelandic             </option>\r\n          <option value='ita'     > Italian               </option>\r\n          <option value='ita_old' > Italian (Old)         </option>\r\n          <option value='jpn'     > Japanese              </option>\r\n          <option value='kan'     > Kannada               </option>\r\n          <option value='kor'     > Korean                </option>\r\n          <option value='lav'     > Latvian               </option>\r\n          <option value='lit'     > Lithuanian            </option>\r\n          <option value='mal'     > Malayalam             </option>\r\n          <option value='mkd'     > Macedonian            </option>\r\n          <option value='mlt'     > Maltese               </option>\r\n          <option value='msa'     > Malay                 </option>\r\n          <option value='nld'     > Dutch                 </option>\r\n          <option value='nor'     > Norwegian             </option>\r\n          <option value='pol'     > Polish                </option>\r\n          <option value='por'     > Portuguese            </option>\r\n          <option value='ron'     > Romanian              </option>\r\n          <option value='rus'     > Russian               </option>\r\n          <option value='slk'     > Slovakian             </option>\r\n          <option value='slv'     > Slovenian             </option>\r\n          <option value='spa'     > Spanish               </option>\r\n          <option value='spa_old' > Old Spanish           </option>\r\n          <option value='sqi'     > Albanian              </option>\r\n          <option value='srp'     > Serbian (Latin)       </option>\r\n          <option value='swa'     > Swahili               </option>\r\n          <option value='swe'     > Swedish               </option>\r\n          <option value='tam'     > Tamil                 </option>\r\n          <option value='tel'     > Telugu                </option>\r\n          <option value='tgl'     > Tagalog               </option>\r\n          <option value='tha'     > Thai                  </option>\r\n          <option value='tur'     > Turkish               </option>\r\n          <option value='ukr'     > Ukrainian             </option>\r\n          <option value='vie'     > Vietnamese            </option>\r\n        </select>\r\n      </div>\r\n\r\n\r\n      <Upload :images=\"scan.images\" @imagesUploaded=\"imagesUploaded\"/>\r\n\r\n      <textarea v-model=\"text\"  cols=\"100\" rows=\"10\"/>\r\n      <b-button @click=\"resetText\">Reset Text</b-button>\r\n\r\n      <div class=\"col-12 col-md-4 mt-3 mt-md-0\">\r\n        <!-- <div class=\"box\">\r\n          <input type=\"file\" name=\"file-1[]\" id=\"file-1\" class=\"inputfile inputfile-1\" data-multiple-caption=\"{count} files selected\" multiple />\r\n          <label for=\"file-1\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"17\" viewBox=\"0 0 20 17\"><path d=\"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\"/></svg> <span>Choose a file&hellip;</span></label>\r\n\r\n\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <!-- <div class=\"col-12 col-md-5\">\r\n        <div class=\"image-container\"><img id=\"selected-image\"  src=\"https://github.com/bensonruan/Tesseract-OCR/raw/master/images/Funny-Minion-Quotes.jpg\" class=\"col-12 p-0\" /></div>\r\n      </div> -->\r\n      <div class=\"col-12 col-md-1\">\r\n        <i id=\"arrow-right\" class=\"fas fa-arrow-right d-none d-md-block\"></i>\r\n        <i id=\"arrow-down\" class=\"fas fa-arrow-down d-block d-md-none\"></i>\r\n      </div>\r\n      <div class=\"col-12 col-md-6\">\r\n        <div id=\"log\">\r\n          <span id=\"startPre\">\r\n            <a id=\"startLink\" href=\"#\">Click here to recognize text in the demo</a>\r\n            <br/> or choose your own image\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n/* eslint-disable */\r\nimport { createWorker, PSM, OEM } from 'tesseract.js';\r\nlet worker = {}\r\n\r\nexport default {\r\n  name: \"Scan\",\r\n  components: {\r\n    'Upload': () => import('@/components/portfolio/Upload'),\r\n  },\r\n  data(){\r\n    return{\r\n      scan: {images: []},\r\n      text: \"\",\r\n      langsel: \"eng\",\r\n      logger : {}\r\n    }\r\n  },\r\n  created(){\r\n    console.log(navigator.language)\r\n    worker = createWorker({\r\n      logger: m => this.progressUpdate(m),\r\n    });\r\n  },\r\n  methods: {\r\n    imagesUploaded(images){\r\n      console.log(images)\r\n      //  this.scan.images = images\r\n      console.log(this.scan)\r\n      images.forEach(async (item, i) => {\r\n        await this.recognize(item)\r\n        console.log(i)\r\n      });\r\n    },\r\n    async recognize (url){\r\n      //  const img = document.getElementById('text-img');\r\n      //console.log(img);\r\n      console.log(this.langsel)\r\n      await worker.load();\r\n      await worker.loadLanguage(this.langsel);\r\n      await worker.initialize(this.langsel, OEM.LSTM_ONLY);\r\n      await worker.setParameters({\r\n        tessedit_pageseg_mode: PSM.SINGLE_BLOCK,\r\n      });\r\n      const { data: { text } } = await worker.recognize(url)\r\n      this.text += text\r\n\r\n\r\n    },\r\n\r\n    progressUpdate(packet){\r\n      var log = document.getElementById('log');\r\n\r\n      if(log.firstChild && log.firstChild.status === packet.status){\r\n        if('progress' in packet){\r\n          var progress = log.firstChild.querySelector('progress')\r\n          progress.value = packet.progress\r\n        }\r\n      }else{\r\n        var line = document.createElement('div');\r\n        line.status = packet.status;\r\n        var status = document.createElement('div')\r\n        status.className = 'status'\r\n        status.appendChild(document.createTextNode(packet.status))\r\n        line.appendChild(status)\r\n\r\n        if('progress' in packet){\r\n          var progress = document.createElement('progress')\r\n          progress.value = packet.progress\r\n          progress.max = 1\r\n          line.appendChild(progress)\r\n        }\r\n\r\n\r\n        if(packet.status == 'done'){\r\n          log.innerHTML = ''\r\n          var pre = document.createElement('pre')\r\n          pre.appendChild(document.createTextNode(packet.data.text.replace(/\\n\\s*\\n/g, '\\n')))\r\n          line.innerHTML = ''\r\n          line.appendChild(pre)\r\n          $(\".fas\").removeClass('fa-spinner fa-spin')\r\n          $(\".fas\").addClass('fa-check')\r\n        }\r\n\r\n        log.insertBefore(line, log.firstChild)\r\n      }\r\n    },\r\n\r\n\r\n    resetText()\r\n    {\r\n      this.logger = {}\r\n      this.text = \"\"\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#log > div {\r\n  color: #313131;\r\n  border-top: 1px solid #dadada;\r\n  padding: 9px;\r\n  display: flex;\r\n}\r\n#log > div:first-child {\r\n  border: 0;\r\n}\r\n.status {\r\n  min-width: 250px;\r\n}\r\n#log {\r\n  border: 1px solid #dadada;\r\n  padding: 10px;\r\n  min-height: 200px;\r\n}\r\n.image-container img{\r\n  border: 1px solid #dadada;\r\n}\r\nprogress {\r\n  display: block;\r\n  width: 100%;\r\n  transition: opacity 0.5s linear;\r\n}\r\nprogress[value=\"1\"] {\r\n  opacity: 0.5;\r\n}\r\nselect {\r\n  padding: 12px 5px;\r\n  width: 209px;\r\n}\r\n\r\n.inputfile {\r\n  width: 0.1px;\r\n  height: 0.1px;\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  z-index: -1;\r\n}\r\n\r\n.inputfile + label {\r\n  max-width: 80%;\r\n  font-size: 1.25rem;\r\n  /* 20px */\r\n  font-weight: 700;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  padding: 0.625rem 1.25rem;\r\n  /* 10px 20px */\r\n}\r\n\r\n.no-js .inputfile + label {\r\n  display: none;\r\n}\r\n\r\n.inputfile:focus + label,\r\n.inputfile.has-focus + label {\r\n  outline: 1px dotted #000;\r\n  outline: -webkit-focus-ring-color auto 5px;\r\n}\r\n\r\n.inputfile + label * {\r\n  /* pointer-events: none; */\r\n  /* in case of FastClick lib use */\r\n}\r\n\r\n.inputfile + label svg {\r\n  width: 1em;\r\n  height: 1em;\r\n  vertical-align: middle;\r\n  fill: currentColor;\r\n  margin-top: -0.25em;\r\n  /* 4px */\r\n  margin-right: 0.25em;\r\n  /* 4px */\r\n}\r\n\r\n\r\n/* style 1 */\r\n\r\n.inputfile-1 + label {\r\n  color: #f1e5e6;\r\n  background-color: #d3394c;\r\n}\r\n\r\n.inputfile-1:focus + label,\r\n.inputfile-1.has-focus + label,\r\n.inputfile-1 + label:hover {\r\n  background-color: #722040;\r\n}\r\n\r\n#arrow-right ,\r\n#arrow-down {\r\n  font-size: 3em;\r\n}\r\n\r\n#arrow-right {\r\n  position: absolute;\r\n  top: 60px;\r\n}\r\n#arrow-down{\r\n  width: 50px;\r\n  margin: 10px auto;\r\n}\r\n\r\n#arrow-right.fa-arrow-right ,\r\n#arrow-right.fa-spin ,\r\n#arrow-down.fa-arrow-down ,\r\n#arrow-down.fa-spin  {\r\n  color: #d3394c;\r\n}\r\n\r\n.fa-check{\r\n  color:green;\r\n}\r\n\r\n#log pre {\r\n  white-space: pre-wrap;       /* css-3 */\r\n  white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\r\n  white-space: -pre-wrap;      /* Opera 4-6 */\r\n  white-space: -o-pre-wrap;    /* Opera 7 */\r\n  word-wrap: break-word;       /* Internet Explorer 5.5+ */\r\n}\r\n\r\n#startLink{\r\n  text-decoration: underline;\r\n  margin-top: 100px;\r\n}\r\n\r\n@media screen and (min-width: 992px) {\r\n  #startPre{\r\n    position: absolute;\r\n    top: 50px;\r\n    padding: 20px;\r\n  }\r\n}\r\n</style>\r\n"]}]}
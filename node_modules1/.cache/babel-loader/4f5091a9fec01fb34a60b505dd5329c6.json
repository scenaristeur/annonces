{"remainingRequest":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\src\\store\\modules\\solid\\index.js","dependencies":[{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\src\\store\\modules\\solid\\index.js","mtime":1616444958930},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1NtYWcvRG9jdW1lbnRzL2Rldi9ib24tcHJpeC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKdmFyIGxkZmxleCA9IHdpbmRvdy5zb2xpZDsKCnZhciBzdGF0ZSA9IGZ1bmN0aW9uIHN0YXRlKCkgewogIHJldHVybiB7CiAgICB3ZWJJZDogbnVsbCwKICAgIHN0b3JhZ2U6IG51bGwKICB9Owp9OyAvLyBnZXR0ZXJzCgoKdmFyIGdldHRlcnMgPSB7fTsgLy8gYWN0aW9ucwoKdmFyIGFjdGlvbnMgPSB7CiAgc2V0V2ViSWQ6IGZ1bmN0aW9uIHNldFdlYklkKGNvbnRleHQsIHdlYklkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgc3RvcmFnZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRXZWJJZCcsIHdlYklkKTsKCiAgICAgICAgICAgICAgaWYgKCEod2ViSWQgIT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSAiIjsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gbGRmbGV4LmRhdGFbd2ViSWRdLnN0b3JhZ2U7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHN0b3JhZ2UgPSBfY29udGV4dC50MC5jb25jYXQuY2FsbChfY29udGV4dC50MCwgX2NvbnRleHQudDEpOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTdG9yYWdlJywgc3RvcmFnZSk7IC8vICBjb25zb2xlLmxvZygicm9vdHN0YXRlIixjb250ZXh0LnJvb3RTdGF0ZS5sZHBfc3RvcmUpCiAgICAgICAgICAgICAgLy8gICAgY29udGV4dC5jb21taXQoJ2xkcF9zdG9yZS9zZXRTZXJ2ZXInLCB7bmFtZTogd2ViSWQrJyBzdG9yYWdlJywgdXJsOiBzdG9yYWdlfSwgeyByb290OiB0cnVlIH0pCiAgICAgICAgICAgICAgLy8gIGNvbnRleHQucm9vdFN0YXRlLmxkcF9zdG9yZS5jb21taXQoJ3NldFNlcnZlcicsIHtuYW1lOiB3ZWJJZCsnIHN0b3JhZ2UnLCB1cmw6IHN0b3JhZ2V9KQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTdG9yYWdlJywgbnVsbCk7IC8vICBjb250ZXh0LmNvbW1pdCgnbGRwX3N0b3JlL3NldFNlcnZlcicsIHtuYW1lOiAnTG9jYWxob3N0JywgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ30sIHsgcm9vdDogdHJ1ZSB9KQoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07IC8vIG11dGF0aW9ucwoKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRXZWJJZDogZnVuY3Rpb24gc2V0V2ViSWQoc3RhdGUsIHdlYklkKSB7CiAgICBjb25zb2xlLmxvZyh3ZWJJZCk7CiAgICBzdGF0ZS53ZWJJZCA9IHdlYklkOwogIH0sCiAgc2V0U3RvcmFnZTogZnVuY3Rpb24gc2V0U3RvcmFnZShzdGF0ZSwgc3RvcmFnZSkgewogICAgY29uc29sZS5sb2coc3RvcmFnZSk7CiAgICBzdGF0ZS5zdG9yYWdlID0gc3RvcmFnZTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["C:/Users/Smag/Documents/dev/bon-prix/src/store/modules/solid/index.js"],"names":["ldflex","window","solid","state","webId","storage","getters","actions","setWebId","context","commit","data","mutations","console","log","setStorage","namespaced"],"mappings":";;;AAAA,IAAIA,MAAM,GAAGC,MAAM,CAACC,KAApB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAO;AACnBC,IAAAA,KAAK,EAAE,IADY;AAEnBC,IAAAA,OAAO,EAAE;AAFU,GAAP;AAAA,CAAd,C,CAKA;;;AACA,IAAMC,OAAO,GAAG,EAAhB,C,CAEA;;AACA,IAAMC,OAAO,GAAG;AACRC,EAAAA,QADQ,oBACCC,OADD,EACUL,KADV,EACgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BK,cAAAA,OAAO,CAACC,MAAR,CAAe,UAAf,EAA0BN,KAA1B;;AAD4B,oBAExBA,KAAK,IAAI,IAFe;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAGHJ,MAAM,CAACW,IAAP,CAAYP,KAAZ,EAAmBC,OAHhB;;AAAA;AAAA;AAGtBA,cAAAA,OAHsB;AAI1BI,cAAAA,OAAO,CAACC,MAAR,CAAe,YAAf,EAA6BL,OAA7B,EAJ0B,CAK5B;AACF;AACE;;AAP4B;AAAA;;AAAA;AAS1BI,cAAAA,OAAO,CAACC,MAAR,CAAe,YAAf,EAA6B,IAA7B,EAT0B,CAU5B;;AAV4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuB7B;AAxBa,CAAhB,C,CA2BA;;AACA,IAAME,SAAS,GAAG;AAChBJ,EAAAA,QADgB,oBACPL,KADO,EACAC,KADA,EACM;AACpBS,IAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACAD,IAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACD,GAJe;AAKhBW,EAAAA,UALgB,sBAKLZ,KALK,EAKEE,OALF,EAKU;AACxBQ,IAAAA,OAAO,CAACC,GAAR,CAAYT,OAAZ;AACAF,IAAAA,KAAK,CAACE,OAAN,GAAgBA,OAAhB;AACD;AARe,CAAlB;AAYA,eAAe;AACbW,EAAAA,UAAU,EAAE,IADC;AAEbb,EAAAA,KAAK,EAALA,KAFa;AAGbG,EAAAA,OAAO,EAAPA,OAHa;AAIbC,EAAAA,OAAO,EAAPA,OAJa;AAKbK,EAAAA,SAAS,EAATA;AALa,CAAf","sourcesContent":["let ldflex = window.solid\r\n\r\nconst state = () => ({\r\n  webId: null,\r\n  storage: null\r\n})\r\n\r\n// getters\r\nconst getters = {}\r\n\r\n// actions\r\nconst actions = {\r\n  async setWebId(context, webId){\r\n    context.commit('setWebId',webId)\r\n    if (webId != null){\r\n      let storage = `${await ldflex.data[webId].storage}`\r\n      context.commit('setStorage', storage)\r\n    //  console.log(\"rootstate\",context.rootState.ldp_store)\r\n  //    context.commit('ldp_store/setServer', {name: webId+' storage', url: storage}, { root: true })\r\n    //  context.rootState.ldp_store.commit('setServer', {name: webId+' storage', url: storage})\r\n    }else{\r\n      context.commit('setStorage', null)\r\n    //  context.commit('ldp_store/setServer', {name: 'Localhost', url: 'http://localhost:3000'}, { root: true })\r\n\r\n    }\r\n    //   let groups = []\r\n    //   console.log(\"TODO: remplacer par solid-client-js peut-il eviter les nombreux appels ?\")\r\n    //   for await (const group of ldflex.data[webId]['http://www.w3.org/ns/org#memberOf']){\r\n    //     //  console.log(`${group}`)\r\n    //     let g = {url:`${group}`, name: await ldflex.data[`${group}`].vcard$fn}\r\n    //     groups.push(g)\r\n    //     context.commit('setGroups',groups)\r\n    //   }\r\n    //\r\n    // }\r\n  }\r\n}\r\n\r\n// mutations\r\nconst mutations = {\r\n  setWebId(state, webId){\r\n    console.log(webId)\r\n    state.webId = webId\r\n  },\r\n  setStorage(state, storage){\r\n    console.log(storage)\r\n    state.storage = storage\r\n  },\r\n\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n}\r\n"]}]}
{"remainingRequest":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\src\\store\\modules\\annonce\\index.js","dependencies":[{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\src\\store\\modules\\annonce\\index.js","mtime":1616527767501},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1NtYWcvRG9jdW1lbnRzL2Rldi9ib24tcHJpeC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfYXN5bmNJdGVyYXRvciBmcm9tICJDOi9Vc2Vycy9TbWFnL0RvY3VtZW50cy9kZXYvYm9uLXByaXgvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jSXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXV0aCBmcm9tICdzb2xpZC1hdXRoLWNsaWVudCc7CmltcG9ydCBGQyBmcm9tICdzb2xpZC1maWxlLWNsaWVudCc7CnZhciBmYyA9IG5ldyBGQyhhdXRoKTsKaW1wb3J0IHsgTm90aWYgfSBmcm9tICdAL2NvbXBvbmVudHMvYW5ub25jZS9Ob3RpZi5qcyc7Cgp2YXIgc3RhdGUgPSBmdW5jdGlvbiBzdGF0ZSgpIHsKICByZXR1cm4gewogICAgYW5ub25jZXM6IFtdLAogICAgcGF0aDogInB1YmxpYy9hbm5vbmNlcy8iLAogICAgYWdvcmFfdXJsOiAiaHR0cHM6Ly9hZ29yYS5zb2xpZGNvbW11bml0eS5uZXQvcHVibGljL0Fubm9uY2UvYW5ub25jZXMvIgogIH07Cn07IC8vIGdldHRlcnMKCgp2YXIgZ2V0dGVycyA9IHt9OyAvLyBhY3Rpb25zCgp2YXIgYWN0aW9ucyA9IHsKICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShjb250ZXh0LCBhKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgc3RvcmFnZSwgbm90aWY7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdG9yYWdlID0gY29udGV4dC5yb290U3RhdGUuc29saWQuc3RvcmFnZTsKCiAgICAgICAgICAgICAgaWYgKCEoc3RvcmFnZSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBhLnVybCA9IHN0b3JhZ2UgKyBjb250ZXh0LnN0YXRlLnBhdGggKyBhLmlkICsgJy5qc29uJzsKICAgICAgICAgICAgICBhLmNyZWF0ZWQgPT0gdW5kZWZpbmVkID8gYS5jcmVhdGVkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpIDogIiI7CiAgICAgICAgICAgICAgYS5tb2RpZmllZCA9PSB1bmRlZmluZWQgPyBhLm1vZGlmaWVkID0gW25ldyBEYXRlKCldIDogYS5tb2RpZmllZC5wdXNoKG5ldyBEYXRlKCkpOwogICAgICAgICAgICAgIGEuY3JlYXRvciA9IGNvbnRleHQucm9vdFN0YXRlLnNvbGlkLndlYklkOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGEpOwogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gZmMuY3JlYXRlRmlsZShlbmNvZGVVUkkoYS51cmwpLCBKU09OLnN0cmluZ2lmeShhKSwgJ2FwcGxpY2F0aW9uL2pzb24nKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3VwZGF0ZScsIGEpOwogICAgICAgICAgICAgIG5vdGlmID0gbmV3IE5vdGlmKGNvbnRleHQuc3RhdGUuYWdvcmFfdXJsLCBhKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhub3RpZik7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg3KTsKICAgICAgICAgICAgICBhbGVydChfY29udGV4dC50MCk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzcsIDE1XV0pOwogICAgfSkpKCk7CiAgfSwKICBkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUoY29udGV4dCwgaWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgc3RvcmFnZSwgdXJsOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHN0b3JhZ2UgPSBjb250ZXh0LnJvb3RTdGF0ZS5zb2xpZC5zdG9yYWdlOwoKICAgICAgICAgICAgICBpZiAoIShzdG9yYWdlICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB1cmwgPSBzdG9yYWdlICsgY29udGV4dC5zdGF0ZS5wYXRoICsgaWQgKyAnLmpzb24nOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIGZjLmRlbGV0ZUZpbGUoZW5jb2RlVVJJKHVybCkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdkZWxldGUnLCBpZCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMywgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgaW5pdDogZnVuY3Rpb24gaW5pdChjb250ZXh0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIHN0b3JhZ2UsIHBhdGgsIGZvbGRlciwgYW5ub25jZXMsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgX3ZhbHVlLCBmOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdG9yYWdlID0gY29udGV4dC5yb290U3RhdGUuc29saWQuc3RvcmFnZTsKCiAgICAgICAgICAgICAgaWYgKCEoc3RvcmFnZSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2MjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyOwogICAgICAgICAgICAgIHBhdGggPSBzdG9yYWdlICsgY29udGV4dC5zdGF0ZS5wYXRoOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gZmMuaXRlbUV4aXN0cyhwYXRoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBpZiAoX2NvbnRleHQzLnNlbnQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBmYy5jcmVhdGVGb2xkZXIocGF0aCk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gZmMucmVhZEZvbGRlcihwYXRoKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgZm9sZGVyID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZm9sZGVyKTsKICAgICAgICAgICAgICBhbm5vbmNlcyA9IFtdOwogICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNjsKICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfYXN5bmNJdGVyYXRvcihmb2xkZXIuZmlsZXMpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgIHJldHVybiBfaXRlcmF0b3IubmV4dCgpOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBfc3RlcCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSBfc3RlcC5kb25lOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBfdmFsdWUgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgaWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24pIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGYgPSBfdmFsdWU7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gYW5ub25jZXM7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnQxID0gSlNPTjsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDMxOwogICAgICAgICAgICAgIHJldHVybiBmYy5yZWFkRmlsZShmLnVybCk7CgogICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgIF9jb250ZXh0My50MiA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0My50MyA9IF9jb250ZXh0My50MS5wYXJzZS5jYWxsKF9jb250ZXh0My50MSwgX2NvbnRleHQzLnQyKTsKCiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwLnB1c2guY2FsbChfY29udGV4dDMudDAsIF9jb250ZXh0My50Myk7CgogICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDM5OgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnQ0ID0gX2NvbnRleHQzWyJjYXRjaCJdKDE2KTsKICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBfY29udGV4dDMudDQ7CgogICAgICAgICAgICBjYXNlIDQzOgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNDM7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA0NDsKCiAgICAgICAgICAgICAgaWYgKCEoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0ODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0ODsKICAgICAgICAgICAgICByZXR1cm4gX2l0ZXJhdG9yLnJldHVybigpOwoKICAgICAgICAgICAgY2FzZSA0ODoKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDQ4OwoKICAgICAgICAgICAgICBpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDUxOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKCiAgICAgICAgICAgIGNhc2UgNTE6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goNDgpOwoKICAgICAgICAgICAgY2FzZSA1MjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCg0Myk7CgogICAgICAgICAgICBjYXNlIDUzOgogICAgICAgICAgICAgIC8vICBhd2FpdCBmb2xkZXIuZmlsZXMubWFwKCBmdW5jdGlvbih4KSB7CiAgICAgICAgICAgICAgLy8gICBsZXQgZiA9ICBmYy5yZWFkRmlsZSh4LnVybCkKICAgICAgICAgICAgICAvLyAgIHJldHVybiBgJHtmfWAKICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFubm9uY2VzKTsKICAgICAgICAgICAgICBjb250ZXh0LnN0YXRlLmFubm9uY2VzID0gYW5ub25jZXM7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2MDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNTc6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA1NzsKICAgICAgICAgICAgICBfY29udGV4dDMudDUgPSBfY29udGV4dDNbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgYWxlcnQoX2NvbnRleHQzLnQ1KTsKCiAgICAgICAgICAgIGNhc2UgNjA6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2MzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNjI6CiAgICAgICAgICAgICAgY29udGV4dC5zdGF0ZS5hbm5vbmNlcyA9IFtdOwoKICAgICAgICAgICAgY2FzZSA2MzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzIsIDU3XSwgWzE2LCAzOSwgNDMsIDUzXSwgWzQ0LCwgNDgsIDUyXV0pOwogICAgfSkpKCk7CiAgfSAvLyBhc3luYyBsb2dpbihjb250ZXh0LCBpc3N1ZXIpewogIC8vICAgY29uc29sZS5sb2coY29udGV4dCwgaXNzdWVyKQogIC8vICAgaWYgKCFnZXREZWZhdWx0U2Vzc2lvbigpLmluZm8uaXNMb2dnZWRJbikgewogIC8vICAgICAvLyBUaGUgYGxvZ2luKClgIHJlZGlyZWN0cyB0aGUgdXNlciB0byB0aGVpciBpZGVudGl0eSBwcm92aWRlcjsKICAvLyAgICAgLy8gaS5lLiwgbW92ZXMgdGhlIHVzZXIgYXdheSBmcm9tIHRoZSBjdXJyZW50IHBhZ2UuCiAgLy8gICAgIGF3YWl0IGxvZ2luKHsKICAvLyAgICAgICAvLyBTcGVjaWZ5IHRoZSBVUkwgb2YgdGhlIHVzZXIncyBTb2xpZCBJZGVudGl0eSBQcm92aWRlcjsgZS5nLiwgImh0dHBzOi8vaW5ydXB0Lm5ldCIKICAvLyAgICAgICBvaWRjSXNzdWVyOiBpc3N1ZXIsCiAgLy8gICAgICAgLy8gU3BlY2lmeSB0aGUgVVJMIHRoZSBTb2xpZCBJZGVudGl0eSBQcm92aWRlciBzaG91bGQgcmVkaXJlY3QgdG8gYWZ0ZXIgdGhlIHVzZXIgbG9ncyBpbiwKICAvLyAgICAgICAvLyBlLmcuLCB0aGUgY3VycmVudCBwYWdlIGZvciBhIHNpbmdsZS1wYWdlIGFwcC4KICAvLyAgICAgICByZWRpcmVjdFVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgLy8gICAgICAgcmVzdG9yZVByZXZpb3VzU2Vzc2lvbjogdHJ1ZQogIC8vICAgICB9KTsKICAvLyAgIH0KICAvLyB9LAogIC8vIGFzeW5jIGxvZ291dChjb250ZXh0KXsKICAvLyAgIGNvbnNvbGUubG9nKGNvbnRleHQpCiAgLy8gICBhd2FpdCBnZXREZWZhdWx0U2Vzc2lvbigpLmxvZ291dCgpCiAgLy8gICBjb250ZXh0LmNvbW1pdCgnc2V0V2ViSWQnLCBudWxsKQogIC8vCiAgLy8gfSwKICAvLyBhc3luYyB3ZWJJZChjb250ZXh0LCB3ZWJJZCl7CiAgLy8gICBjb250ZXh0LmNvbW1pdCgnc2V0V2ViSWQnLHdlYklkKQogIC8vICAgaWYgKHdlYklkICE9IG51bGwpewogIC8vCiAgLy8gICAgIC8vICBsZXQgd2ViSWQgPSBhd2FpdCBnZXREZWZhdWx0U2Vzc2lvbigpLmluZm8ud2ViSWQKICAvLyAgICAgLy8gRm9yIGV4YW1wbGUsIHRoZSB1c2VyIG11c3QgYmUgc29tZW9uZSB3aXRoIFJlYWQgYWNjZXNzIHRvIHRoZSBzcGVjaWZpZWQgVVJMLgogIC8vICAgICBjb25zdCB1c2VyRGF0YXNldCA9IGF3YWl0IGdldFNvbGlkRGF0YXNldCgKICAvLyAgICAgICAvLyAgImh0dHBzOi8vZG9jcy1leGFtcGxlLmlucnVwdC5uZXQvcHJvZmlsZS9jYXJkIiwgewogIC8vICAgICAgIHdlYklkLCB7CiAgLy8gICAgICAgICBmZXRjaDogZmV0Y2gKICAvLyAgICAgICB9KTsKICAvLyAgICAgICBjb25zb2xlLmxvZyh1c2VyRGF0YXNldCkKICAvLwogIC8vICAgICAgIGNvbnN0IHByb2ZpbGUgPSBnZXRUaGluZygKICAvLyAgICAgICAgIHVzZXJEYXRhc2V0LAogIC8vICAgICAgICAgd2ViSWQKICAvLyAgICAgICApOwogIC8vCiAgLy8gICAgICAgY29uc3QgbGFzdE5hbWUgPSBnZXRTdHJpbmdOb0xvY2FsZShwcm9maWxlLCBTQ0hFTUFfSU5SVVBUX0VYVC5mYW1pbHlOYW1lKTsKICAvLyAgICAgICBjb25zdCBmbmFtZSA9IGdldFN0cmluZ05vTG9jYWxlKHByb2ZpbGUsIEZPQUYuZmlyc3ROYW1lKTsKICAvLyAgICAgICBjb25zdCByb2xlID0gZ2V0U3RyaW5nTm9Mb2NhbGUocHJvZmlsZSwgVkNBUkQucm9sZSk7CiAgLy8KICAvLyAgICAgICBjb25zb2xlLmxvZyhsYXN0TmFtZSwgZm5hbWUsIHJvbGUpCiAgLy8KICAvLyAgICAgICAvLyAzLiBSZXRyaWV2ZSBzcGVjaWZpYyBkYXRhIGZyb20gdGhlIHJldHJpZXZlZCB0aGluZzsgaS5lLiBwcm9maWxlLgogIC8vCiAgLy8gICAgICAgLy8gM2EuIEdldCBhIHNpbmdsZSBzdHJpbmcgZGF0YSB2YWx1ZSBmcm9tIHRoZSBwcm9maWxlLgogIC8vICAgICAgIC8vIFNwZWNpZmljYWxseSwgdGhlIG9wZXJhdGlvbiByZXR1cm5zIHRoZSBwcm9maWxlJ3MgVkNBUkQuZm4KICAvLyAgICAgICAvLyAoaS5lLiwgImh0dHA6Ly93d3cudzMub3JnLzIwMDYvdmNhcmQvbnMjZm4iKSB2YWx1ZSBhcyBhIHN0cmluZy4KICAvLwogIC8vICAgICAgIGNvbnN0IGZuID0gZ2V0U3RyaW5nTm9Mb2NhbGUocHJvZmlsZSwgVkNBUkQuZm4pOwogIC8vCiAgLy8gICAgICAgLy8gM2IuIEdldCBtdWx0aXBsZSBVUkwgZGF0YSBmcm9tIHRoZSBwcm9maWxlLgogIC8vICAgICAgIC8vIFNwZWNpZmljYWxseSAsIHRoZSBvcGVyYXRpb24gcmV0dXJucyB0aGUgcHJvZmlsZSdzIEZPQUYua25vd3MKICAvLyAgICAgICAvLyAoaS5lLiwgImh0dHA6Ly94bWxucy5jb20vZm9hZi8wLjEva25vd3MiKSB2YWx1ZXMgYXMgYW4gYXJyYXkgb2YgVVJMcy4KICAvLyAgICAgICAvLyBUaGUgVVJMcyBwb2ludCB0byB0aGUgVGhpbmdzIHJlcHJlc2VudGluZyBQZXJzb25zLgogIC8vCiAgLy8gICAgICAgY29uc3QgYWNxdWFpbnRhbmNlcyA9IGdldFVybEFsbChwcm9maWxlLCBGT0FGLmtub3dzKTsKICAvLwogIC8vICAgICAgIGNvbnNvbGUubG9nKGZuLCBhY3F1YWludGFuY2VzKQogIC8vCiAgLy8gICAgICAgLy8gIGNvbnNvbGUubG9nKCJTUEFDRSIsU1BBQ0UpCiAgLy8gICAgICAgbGV0IHN0b3JhZ2UgPSBnZXRVcmwocHJvZmlsZSwgV1Muc3RvcmFnZSk7CiAgLy8gICAgICAgY29uc29sZS5sb2coInN0b3JhZ2UiLCBzdG9yYWdlKQogIC8vCiAgLy8gICAgICAgY29udGV4dC5jb21taXQoJ3NldFN0b3JhZ2UnLCBzdG9yYWdlKQogIC8vCiAgLy8gICAgIH1lbHNlewogIC8vICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTdG9yYWdlJywgbnVsbCkKICAvLyAgICAgfQogIC8vICAgICAvLyAgIGlmICh3ZWJJZCAhPSBudWxsKXsKICAvLyAgICAgLy8gICAgIGxldCBzdG9yYWdlID0gYCR7YXdhaXQgbGRmbGV4LmRhdGFbd2ViSWRdLnN0b3JhZ2V9YAogIC8vICAgICAvLyAgICAgY29udGV4dC5jb21taXQoJ3NldFN0b3JhZ2UnLCBzdG9yYWdlKQogIC8vICAgICAvLyAgIC8vICBjb25zb2xlLmxvZygicm9vdHN0YXRlIixjb250ZXh0LnJvb3RTdGF0ZS5sZHBfc3RvcmUpCiAgLy8gICAgIC8vIC8vICAgIGNvbnRleHQuY29tbWl0KCdsZHBfc3RvcmUvc2V0U2VydmVyJywge25hbWU6IHdlYklkKycgc3RvcmFnZScsIHVybDogc3RvcmFnZX0sIHsgcm9vdDogdHJ1ZSB9KQogIC8vICAgICAvLyAgIC8vICBjb250ZXh0LnJvb3RTdGF0ZS5sZHBfc3RvcmUuY29tbWl0KCdzZXRTZXJ2ZXInLCB7bmFtZTogd2ViSWQrJyBzdG9yYWdlJywgdXJsOiBzdG9yYWdlfSkKICAvLyAgICAgLy8gICB9ZWxzZXsKICAvLyAgICAgLy8gICAgIGNvbnRleHQuY29tbWl0KCdzZXRTdG9yYWdlJywgbnVsbCkKICAvLyAgICAgLy8gICAvLyAgY29udGV4dC5jb21taXQoJ2xkcF9zdG9yZS9zZXRTZXJ2ZXInLCB7bmFtZTogJ0xvY2FsaG9zdCcsIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCd9LCB7IHJvb3Q6IHRydWUgfSkKICAvLyAgICAgLy8KICAvLyAgICAgLy8gICB9CiAgLy8gICAgIC8vICAgbGV0IGdyb3VwcyA9IFtdCiAgLy8gICAgIC8vICAgY29uc29sZS5sb2coIlRPRE86IHJlbXBsYWNlciBwYXIgc29saWQtY2xpZW50LWpzIHBldXQtaWwgZXZpdGVyIGxlcyBub21icmV1eCBhcHBlbHMgPyIpCiAgLy8gICAgIC8vICAgZm9yIGF3YWl0IChjb25zdCBncm91cCBvZiBsZGZsZXguZGF0YVt3ZWJJZF1bJ2h0dHA6Ly93d3cudzMub3JnL25zL29yZyNtZW1iZXJPZiddKXsKICAvLyAgICAgLy8gICAgIC8vICBjb25zb2xlLmxvZyhgJHtncm91cH1gKQogIC8vICAgICAvLyAgICAgbGV0IGcgPSB7dXJsOmAke2dyb3VwfWAsIG5hbWU6IGF3YWl0IGxkZmxleC5kYXRhW2Ake2dyb3VwfWBdLnZjYXJkJGZufQogIC8vICAgICAvLyAgICAgZ3JvdXBzLnB1c2goZykKICAvLyAgICAgLy8gICAgIGNvbnRleHQuY29tbWl0KCdzZXRHcm91cHMnLGdyb3VwcykKICAvLyAgICAgLy8gICB9CiAgLy8gICAgIC8vCiAgLy8gICAgIC8vIH0KICAvLyAgIH0KCn07IC8vIG11dGF0aW9ucwoKdmFyIG11dGF0aW9ucyA9IHsKICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShzdGF0ZSwgYSkgewogICAgdmFyIGlkeCA9IHN0YXRlLmFubm9uY2VzLmZpbmRJbmRleChmdW5jdGlvbiAoeCkgewogICAgICByZXR1cm4geC5pZCA9PT0gYS5pZDsKICAgIH0pOwoKICAgIGlmIChpZHggPT09IC0xKSB7CiAgICAgIHN0YXRlLmFubm9uY2VzLnB1c2goYSk7CiAgICB9IGVsc2UgewogICAgICBPYmplY3QuYXNzaWduKHN0YXRlLmFubm9uY2VzW2lkeF0sIGEpOwogICAgfSAvLyBjb25zb2xlLmxvZyhjb21taXQpCgogIH0sCiAgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKHN0YXRlLCBpZCkgewogICAgc3RhdGUuYW5ub25jZXMgPSBzdGF0ZS5hbm5vbmNlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHguaWQgIT0gaWQ7CiAgICB9KTsKICB9LAogIHNldEFnb3JhVXJsOiBmdW5jdGlvbiBzZXRBZ29yYVVybChzdGF0ZSwgdXJsKSB7CiAgICBzdGF0ZS5hZ29yYV91cmwgPSB1cmw7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["C:/Users/Smag/Documents/dev/bon-prix/src/store/modules/annonce/index.js"],"names":["auth","FC","fc","Notif","state","annonces","path","agora_url","getters","actions","update","context","a","storage","rootState","solid","url","id","created","undefined","Date","toISOString","modified","push","creator","webId","console","log","createFile","encodeURI","JSON","stringify","commit","notif","alert","delete","deleteFile","init","itemExists","createFolder","readFolder","folder","files","f","readFile","parse","mutations","idx","findIndex","x","Object","assign","filter","setAgoraUrl","namespaced"],"mappings":"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","sourcesContent":["import auth from 'solid-auth-client';\r\nimport FC from 'solid-file-client'\r\nconst fc = new FC( auth )\r\nimport { Notif } from '@/components/annonce/Notif.js'\r\n\r\nconst state = () => ({\r\n  annonces: [],\r\n  path: \"public/annonces/\",\r\n  agora_url:\"https://agora.solidcommunity.net/public/Annonce/annonces/\"\r\n})\r\n\r\n// getters\r\nconst getters = {}\r\n\r\n// actions\r\nconst actions = {\r\n  async update(context, a){\r\n    let storage = context.rootState.solid.storage;\r\n    if(storage != null){\r\n      a.url = storage+context.state.path+a.id+'.json'\r\n      a.created == undefined ? a.created = new Date().toISOString() : \"\"\r\n      a.modified == undefined ? a.modified = [new Date()] : a.modified.push(new Date())\r\n      a.creator = context.rootState.solid.webId;\r\n\r\n      console.log(a)\r\n      try{\r\n        await fc.createFile(encodeURI(a.url), JSON.stringify(a), 'application/json')\r\n        context.commit('update', a)\r\n        let notif = new Notif(context.state.agora_url, a)\r\n        console.log(notif)\r\n\r\n      }catch(e){\r\n        alert(e)\r\n      }\r\n    }\r\n  },\r\n\r\n  async delete(context,id){\r\n    let storage = context.rootState.solid.storage;\r\n    if(storage != null){\r\n      let url = storage+context.state.path+id+'.json'\r\n      try{\r\n        await fc.deleteFile(encodeURI(url))\r\n        context.commit('delete', id)\r\n      }catch(e){\r\n        alert(e)\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n\r\n  async init(context){\r\n    let storage = context.rootState.solid.storage;\r\n    if(storage != null){\r\n      try{\r\n        let path = storage+context.state.path\r\n        if (!await fc.itemExists(path)){\r\n          await fc.createFolder(path)\r\n        }\r\n        let folder = await fc.readFolder(path)\r\n        console.log(folder)\r\n        let annonces = []\r\n\r\n        for await (const f of folder.files) {\r\n          annonces.push(JSON.parse(await fc.readFile(f.url)))\r\n        }\r\n        //  await folder.files.map( function(x) {\r\n        //   let f =  fc.readFile(x.url)\r\n        //   return `${f}`\r\n        // })\r\n        console.log(annonces)\r\n        context.state.annonces = annonces\r\n      }catch(e){\r\n        alert(e)\r\n      }\r\n    }else{\r\n      context.state.annonces = []\r\n    }\r\n  }\r\n\r\n  // async login(context, issuer){\r\n  //   console.log(context, issuer)\r\n  //   if (!getDefaultSession().info.isLoggedIn) {\r\n  //     // The `login()` redirects the user to their identity provider;\r\n  //     // i.e., moves the user away from the current page.\r\n  //     await login({\r\n  //       // Specify the URL of the user's Solid Identity Provider; e.g., \"https://inrupt.net\"\r\n  //       oidcIssuer: issuer,\r\n  //       // Specify the URL the Solid Identity Provider should redirect to after the user logs in,\r\n  //       // e.g., the current page for a single-page app.\r\n  //       redirectUrl: window.location.href,\r\n  //       restorePreviousSession: true\r\n  //     });\r\n  //   }\r\n  // },\r\n  // async logout(context){\r\n  //   console.log(context)\r\n  //   await getDefaultSession().logout()\r\n  //   context.commit('setWebId', null)\r\n  //\r\n  // },\r\n  // async webId(context, webId){\r\n  //   context.commit('setWebId',webId)\r\n  //   if (webId != null){\r\n  //\r\n  //     //  let webId = await getDefaultSession().info.webId\r\n  //     // For example, the user must be someone with Read access to the specified URL.\r\n  //     const userDataset = await getSolidDataset(\r\n  //       //  \"https://docs-example.inrupt.net/profile/card\", {\r\n  //       webId, {\r\n  //         fetch: fetch\r\n  //       });\r\n  //       console.log(userDataset)\r\n  //\r\n  //       const profile = getThing(\r\n  //         userDataset,\r\n  //         webId\r\n  //       );\r\n  //\r\n  //       const lastName = getStringNoLocale(profile, SCHEMA_INRUPT_EXT.familyName);\r\n  //       const fname = getStringNoLocale(profile, FOAF.firstName);\r\n  //       const role = getStringNoLocale(profile, VCARD.role);\r\n  //\r\n  //       console.log(lastName, fname, role)\r\n  //\r\n  //       // 3. Retrieve specific data from the retrieved thing; i.e. profile.\r\n  //\r\n  //       // 3a. Get a single string data value from the profile.\r\n  //       // Specifically, the operation returns the profile's VCARD.fn\r\n  //       // (i.e., \"http://www.w3.org/2006/vcard/ns#fn\") value as a string.\r\n  //\r\n  //       const fn = getStringNoLocale(profile, VCARD.fn);\r\n  //\r\n  //       // 3b. Get multiple URL data from the profile.\r\n  //       // Specifically , the operation returns the profile's FOAF.knows\r\n  //       // (i.e., \"http://xmlns.com/foaf/0.1/knows\") values as an array of URLs.\r\n  //       // The URLs point to the Things representing Persons.\r\n  //\r\n  //       const acquaintances = getUrlAll(profile, FOAF.knows);\r\n  //\r\n  //       console.log(fn, acquaintances)\r\n  //\r\n  //       //  console.log(\"SPACE\",SPACE)\r\n  //       let storage = getUrl(profile, WS.storage);\r\n  //       console.log(\"storage\", storage)\r\n  //\r\n  //       context.commit('setStorage', storage)\r\n  //\r\n  //     }else{\r\n  //       context.commit('setStorage', null)\r\n  //     }\r\n  //     //   if (webId != null){\r\n  //     //     let storage = `${await ldflex.data[webId].storage}`\r\n  //     //     context.commit('setStorage', storage)\r\n  //     //   //  console.log(\"rootstate\",context.rootState.ldp_store)\r\n  //     // //    context.commit('ldp_store/setServer', {name: webId+' storage', url: storage}, { root: true })\r\n  //     //   //  context.rootState.ldp_store.commit('setServer', {name: webId+' storage', url: storage})\r\n  //     //   }else{\r\n  //     //     context.commit('setStorage', null)\r\n  //     //   //  context.commit('ldp_store/setServer', {name: 'Localhost', url: 'http://localhost:3000'}, { root: true })\r\n  //     //\r\n  //     //   }\r\n  //     //   let groups = []\r\n  //     //   console.log(\"TODO: remplacer par solid-client-js peut-il eviter les nombreux appels ?\")\r\n  //     //   for await (const group of ldflex.data[webId]['http://www.w3.org/ns/org#memberOf']){\r\n  //     //     //  console.log(`${group}`)\r\n  //     //     let g = {url:`${group}`, name: await ldflex.data[`${group}`].vcard$fn}\r\n  //     //     groups.push(g)\r\n  //     //     context.commit('setGroups',groups)\r\n  //     //   }\r\n  //     //\r\n  //     // }\r\n  //   }\r\n}\r\n\r\n// mutations\r\nconst mutations = {\r\n  update(state, a){\r\n    let idx = state.annonces.findIndex(x => x.id === a.id)\r\n    if (idx === -1) {\r\n      state.annonces.push(a)\r\n    } else {\r\n      Object.assign(state.annonces[idx], a)\r\n    }\r\n    // console.log(commit)\r\n  },\r\n  delete(state, id){\r\n    state.annonces = state.annonces.filter(x => x.id != id)\r\n  },\r\n  setAgoraUrl(state, url){\r\n    state.agora_url = url\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n}\r\n"]}]}
{"remainingRequest":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Smag\\Documents\\dev\\bon-prix\\src\\components\\portfolio\\Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\src\\components\\portfolio\\Upload.vue","mtime":1616694264972},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Smag\\Documents\\dev\\bon-prix\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1NtYWcvRG9jdW1lbnRzL2Rldi9ib24tcHJpeC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50OC1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGxkZmxleCA9IHdpbmRvdy5zb2xpZDsKaW1wb3J0IEZDIGZyb20gJ3NvbGlkLWZpbGUtY2xpZW50JzsKdmFyIGZjID0gbmV3IEZDKHdpbmRvdy5zb2xpZC5hdXRoKTsKaW1wb3J0IHdhdGVybWFyayBmcm9tICd3YXRlcm1hcmtqcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVXBsb2FkJywKICBwcm9wczogWydpbWFnZXMnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZXM6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbklucHV0OiBmdW5jdGlvbiBvbklucHV0KGZpbGVzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcHJldmlldywgc3RvcmFnZSwgcGF0aDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZXMpOwogICAgICAgICAgICAgICAgcHJldmlldyA9IF90aGlzLiRyZWZzLnByZXZpZXc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gbGRmbGV4LmRhdGEudXNlci5zdG9yYWdlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBzdG9yYWdlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBwYXRoID0gIiIuY29uY2F0KHN0b3JhZ2UpICsgJ3B1YmxpYy9wb3J0Zm9saW8vJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBmaWxlcy5mb3JFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShmKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRlcm1hcmsoW2ZdKS5pbWFnZSh3YXRlcm1hcmsudGV4dC5jZW50ZXIocGF0aCwgJzMwcHggSm9zZWZpbiBTbGFiJywgJyNmZmYnLCAwLjgpKS50aGVuKGZ1bmN0aW9uIChpbWcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm5hbWUgPSBmLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy50eXBlID0gZi50eXBlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcud2lkdGggPSAiMjUwIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmhlaWdodCA9ICIyNTAiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3LmFwcGVuZENoaWxkKGltZyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZDogZnVuY3Rpb24gc2VuZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgYXBwLCBwcmV2aWV3LCBkYXRhVVJMdG9GaWxlLCBpbWFnZXMsIHN0b3JhZ2UsIHBhdGg7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGFwcCA9IF90aGlzMjsKICAgICAgICAgICAgICAgIHByZXZpZXcgPSBfdGhpczIuJHJlZnMucHJldmlldzsKICAgICAgICAgICAgICAgIGRhdGFVUkx0b0ZpbGUgPSBfdGhpczIuZGF0YVVSTHRvRmlsZTsKICAgICAgICAgICAgICAgIGltYWdlcyA9IFtdLnNsaWNlLmNhbGwocHJldmlldy5jaGlsZHJlbik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbWFnZXMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGxkZmxleC5kYXRhLnVzZXIuc3RvcmFnZTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgc3RvcmFnZSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgcGF0aCA9ICIiLmNvbmNhdChzdG9yYWdlKSArICdwdWJsaWMvcG9ydGZvbGlvLyc7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXRoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlcy5mb3JFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdXJpLCBmaWxlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmkgPSBlbmNvZGVVUkkocGF0aCArIGkubmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1cmkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIWFwcC5pbWFnZXMuaW5jbHVkZXModXJpKSA/IGFwcC5pbWFnZXMucHVzaCh1cmkpIDogIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0gZGF0YVVSTHRvRmlsZShpLnNyYywgaS5uYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYy5jcmVhdGVGaWxlKHVyaSwgZmlsZSwgaS50eXBlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBhbGVydChpbWFnZXMubGVuZ3RoICsgIiBmaWNoaWVycyBzYXV2ZWdhcmTDqXMiKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ2ltYWdlc1VwbG9hZGVkJywgYXBwLmltYWdlcyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAxNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSgxMCk7CiAgICAgICAgICAgICAgICBhbGVydChfY29udGV4dDQudDApOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzEwLCAxN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGF0YVVSTHRvRmlsZTogZnVuY3Rpb24gZGF0YVVSTHRvRmlsZShkYXRhdXJsLCBmaWxlbmFtZSkgewogICAgICB2YXIgYXJyID0gZGF0YXVybC5zcGxpdCgnLCcpLAogICAgICAgICAgbWltZSA9IGFyclswXS5tYXRjaCgvOiguKj8pOy8pWzFdLAogICAgICAgICAgYnN0ciA9IGF0b2IoYXJyWzFdKSwKICAgICAgICAgIG4gPSBic3RyLmxlbmd0aCwKICAgICAgICAgIHU4YXJyID0gbmV3IFVpbnQ4QXJyYXkobik7CgogICAgICB3aGlsZSAobi0tKSB7CiAgICAgICAgdThhcnJbbl0gPSBic3RyLmNoYXJDb2RlQXQobik7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgRmlsZShbdThhcnJdLCBmaWxlbmFtZSwgewogICAgICAgIHR5cGU6IG1pbWUKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <b-form-file multiple\r\n    accept=\"image/*\"\r\n    v-model=\"files\"\r\n    :state=\"Boolean(files)\"\r\n    placeholder=\"Choose a file or drop it here...\"\r\n    drop-placeholder=\"Drop file here...\"\r\n    @input=\"onInput\"\r\n    ></b-form-file>\r\n\r\n    <div ref=\"preview\"></div>\r\n    <b-button @click=\"send\">Send</b-button>\r\n    <br>\r\n    <small>images : {{ images }}</small>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet ldflex = window.solid\r\nimport FC from 'solid-file-client'\r\nconst fc = new FC( window.solid.auth )\r\nimport watermark from 'watermarkjs'\r\n\r\nexport default {\r\n  name: 'Upload',\r\n  props: ['images'],\r\n  data() {\r\n    return {\r\n      files: null\r\n    }\r\n  },\r\n  methods: {\r\n    async onInput(files){\r\n      console.log(files)\r\n      let preview = this.$refs.preview\r\n      let storage = await ldflex.data.user.storage\r\n      let path = `${storage}`+'public/portfolio/'\r\n      await files.forEach(async function(f)  {\r\n        console.log(f)\r\n        watermark([f])\r\n        .image(watermark.text.center(path, '30px Josefin Slab', '#fff', 0.8))\r\n        .then(img => {\r\n          img.name = f.name\r\n          img.type = f.type\r\n          img.width = \"250\"\r\n          img.height = \"250\"\r\n          preview.appendChild(img)});\r\n        })\r\n      },\r\n      async send(){\r\n        let app = this\r\n        let preview = this.$refs.preview\r\n        let dataURLtoFile = this.dataURLtoFile\r\n        var images = [].slice.call(preview.children);\r\n        console.log(images)\r\n        let storage = await ldflex.data.user.storage\r\n        let path = `${storage}`+'public/portfolio/'\r\n        console.log(path)\r\n        try{\r\n          await images.forEach(async function(i)  {\r\n            let uri = encodeURI(path+i.name)\r\n            console.log(uri)\r\n            !app.images.includes(uri) ? app.images.push(uri): \"\"\r\n            var file = dataURLtoFile(i.src,i.name);\r\n            await fc.createFile(uri, file, i.type)\r\n          })\r\n          alert(images.length+\" fichiers sauvegard√©s\")\r\n          this.$emit('imagesUploaded',app.images)\r\n\r\n        }catch(e){\r\n          alert(e)\r\n        }\r\n      },\r\n      dataURLtoFile(dataurl, filename) {\r\n        var arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n        while(n--){\r\n          u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new File([u8arr], filename, {type:mime});\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n"],"sourceRoot":"src/components/portfolio"}]}
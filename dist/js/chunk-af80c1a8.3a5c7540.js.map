{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/watermarkjs/dist/watermark.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/components/portfolio/Upload.vue?a847","webpack:///src/components/portfolio/Upload.vue","webpack:///./src/components/portfolio/Upload.vue?26a1","webpack:///./src/components/portfolio/Upload.vue","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","root","factory","module","exports","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","hasOwnProperty","p","s","default","__webpack_exports__","style_image_namespaceObject","atPos","lowerRight","upperRight","lowerLeft","upperLeft","center","text_namespaceObject","sequence","_len","arguments","length","funcs","Array","_key","reduce","val","fn","identity","x","_typeof","obj","iterator","constructor","setAndResolve","img","src","resolve","onload","getLoader","resource","type","loadUrl","Image","loadFile","image_load","resources","init","promises","loader","promise","push","Promise","all","url","file","reader","FileReader","onloadend","result","readAsDataURL","createImage","drawImage","canvas","ctx","getContext","width","height","imageToCanvas","pool","pop","mapToCanvas","images","map","canvas_dataUrl","parameters","undefined","encoderOptions","toDataURL","text_atPos","text_lowerRight","text_lowerLeft","text_upperRight","text_upperLeft","text_center","split","dataUrl","exec","slice","decode","base64","atob","uint8","data","uints","Uint8Array","charCodeAt","blob_blob","parts","blob","Blob","xFn","yFn","alpha","target","watermark","context","save","globalAlpha","restore","mark","text","font","fillStyle","metrics","measureText","fillText","y","textAlign","textBaseline","style_image","style_text","style_result","draw","sources","apply","extend","first","second","secondKeys","keys","clone","CanvasPool","canvases","this","document","createElement","release","clearRect","clear","splice","shared","canvas_pool","defaults","mergeOptions","options","dataURL","opts","then","load","concat","render","image","destroy","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","proto","forced","includes","searchString","String","indexOf","fixRegExpWellKnownSymbolLogic","anObject","toLength","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","matcher","RegExp","res","done","rx","S","fullUnicode","unicode","lastIndex","A","matchStr","isRegExp","it","TypeError","_vm","_h","$createElement","_c","_self","staticClass","attrs","Boolean","files","on","onInput","model","callback","$$v","expression","ref","send","_v","_s","staticRenderFns","props","methods","component","wellKnownSymbol","METHOD_NAME","error1","error2","$includes","addToUnscopables","el"],"mappings":"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","file":"js/chunk-af80c1a8.3a5c7540.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"watermark\"] = factory();\n\telse\n\t\troot[\"watermark\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1).default;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar style_image_namespaceObject = {};\n__webpack_require__.r(style_image_namespaceObject);\n__webpack_require__.d(style_image_namespaceObject, \"atPos\", function() { return atPos; });\n__webpack_require__.d(style_image_namespaceObject, \"lowerRight\", function() { return lowerRight; });\n__webpack_require__.d(style_image_namespaceObject, \"upperRight\", function() { return upperRight; });\n__webpack_require__.d(style_image_namespaceObject, \"lowerLeft\", function() { return lowerLeft; });\n__webpack_require__.d(style_image_namespaceObject, \"upperLeft\", function() { return upperLeft; });\n__webpack_require__.d(style_image_namespaceObject, \"center\", function() { return center; });\nvar text_namespaceObject = {};\n__webpack_require__.r(text_namespaceObject);\n__webpack_require__.d(text_namespaceObject, \"atPos\", function() { return text_atPos; });\n__webpack_require__.d(text_namespaceObject, \"lowerRight\", function() { return text_lowerRight; });\n__webpack_require__.d(text_namespaceObject, \"lowerLeft\", function() { return text_lowerLeft; });\n__webpack_require__.d(text_namespaceObject, \"upperRight\", function() { return text_upperRight; });\n__webpack_require__.d(text_namespaceObject, \"upperLeft\", function() { return text_upperLeft; });\n__webpack_require__.d(text_namespaceObject, \"center\", function() { return text_center; });\n\n// CONCATENATED MODULE: ./lib/functions/index.js\n/**\n * Return a function that executes a sequence of functions from left to right,\n * passing the result of a previous operation to the next\n *\n * @param {...funcs}\n * @return {Function}\n */\nfunction sequence() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return funcs.reduce(function (val, fn) {\n      return fn.call(null, val);\n    }, value);\n  };\n}\n/**\n * Return the argument passed to it\n *\n * @param {Mixed} x\n * @return {Mixed}\n */\n\nfunction identity(x) {\n  return x;\n}\n// CONCATENATED MODULE: ./lib/image/index.js\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n/**\n * Set the src of an image object and call the resolve function\n * once it has loaded\n *\n * @param {Image} img\n * @param {String} src\n * @param {Function} resolve\n */\n\nfunction setAndResolve(img, src, resolve) {\n  img.onload = function () {\n    return resolve(img);\n  };\n\n  img.src = src;\n}\n/**\n * Given a resource, return an appropriate loading function for it's type\n *\n * @param {String|File|Image} resource\n * @return {Function}\n */\n\n\nfunction getLoader(resource) {\n  var type = _typeof(resource);\n\n  if (type === 'string') {\n    return loadUrl;\n  }\n\n  if (resource instanceof Image) {\n    return identity;\n  }\n\n  return loadFile;\n}\n/**\n * Used for loading image resources asynchronously and maintaining\n * the supplied order of arguments\n *\n * @param {Array} resources - a mixed array of urls, File objects, or Image objects\n * @param {Function} init - called at the beginning of resource initialization\n * @return {Promise}\n */\n\nfunction image_load(resources, init) {\n  var promises = [];\n\n  for (var i = 0; i < resources.length; i++) {\n    var resource = resources[i];\n    var loader = getLoader(resource);\n    var promise = loader(resource, init);\n    promises.push(promise);\n  }\n\n  return Promise.all(promises);\n}\n/**\n * Load an image by its url\n *\n * @param {String} url\n * @param {Function} init - an optional image initializer\n * @return {Promise}\n */\n\nfunction loadUrl(url, init) {\n  var img = new Image();\n  typeof init === 'function' && init(img);\n  return new Promise(function (resolve) {\n    img.onload = function () {\n      return resolve(img);\n    };\n\n    img.src = url;\n  });\n}\n/**\n * Return a collection of images from an\n * array of File objects\n *\n * @param {File} file\n * @return {Promise}\n */\n\nfunction loadFile(file) {\n  var reader = new FileReader();\n  return new Promise(function (resolve) {\n    var img = new Image();\n\n    reader.onloadend = function () {\n      return setAndResolve(img, reader.result, resolve);\n    };\n\n    reader.readAsDataURL(file);\n  });\n}\n/**\n * Create a new image, optionally configuring it's onload behavior\n *\n * @param {String} url\n * @param {Function} onload\n * @return {Image}\n */\n\nfunction createImage(url, onload) {\n  var img = new Image();\n\n  if (typeof onload === 'function') {\n    img.onload = onload;\n  }\n\n  img.src = url;\n  return img;\n}\n/**\n * Draw an image to a canvas element\n *\n * @param {Image} img\n * @param {HTMLCanvasElement} canvas\n * @return {HTMLCanvasElement}\n */\n\nfunction drawImage(img, canvas) {\n  var ctx = canvas.getContext('2d');\n  canvas.width = img.width;\n  canvas.height = img.height;\n  ctx.drawImage(img, 0, 0);\n  return canvas;\n}\n/**\n * Convert an Image object to a canvas\n *\n * @param {Image} img\n * @param {CanvasPool} pool\n * @return {HTMLCanvasElement}\n */\n\n\nfunction imageToCanvas(img, pool) {\n  var canvas = pool.pop();\n  return drawImage(img, canvas);\n}\n/**\n * Convert an array of image objects\n * to canvas elements\n *\n * @param {Array} images\n * @param {CanvasPool} pool\n * @return {HTMLCanvasElement[]}\n */\n\nfunction mapToCanvas(images, pool) {\n  return images.map(function (img) {\n    return imageToCanvas(img, pool);\n  });\n}\n// CONCATENATED MODULE: ./lib/canvas/index.js\n/**\n * Get the data url of a canvas\n *\n * @param {HTMLCanvasElement}\n * @param {Paramters} Specifications according to HTMLCanvasElement.toDataURL() Documentation\n * @return {String}\n */\nfunction canvas_dataUrl(canvas) {\n  var parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    type: 'image/png',\n    encoderOptions: 0.92\n  };\n  return canvas.toDataURL(parameters.type, parameters.encoderOptions);\n}\n// CONCATENATED MODULE: ./lib/blob/index.js\n\nvar url = /^data:([^;]+);base64,(.*)$/;\n/**\n * Split a data url into a content type and raw data\n *\n * @param {String} dataUrl\n * @return {Array}\n */\n\nfunction split(dataUrl) {\n  return url.exec(dataUrl).slice(1);\n}\n/**\n * Decode a base64 string\n *\n * @param {String} base64\n * @return {String}\n */\n\nfunction decode(base64) {\n  return window.atob(base64);\n}\n/**\n * Return a string of raw data as a Uint8Array\n *\n * @param {String} data\n * @return {UInt8Array}\n */\n\nfunction uint8(data) {\n  var length = data.length;\n  var uints = new Uint8Array(length);\n\n  for (var i = 0; i < length; i++) {\n    uints[i] = data.charCodeAt(i);\n  }\n\n  return uints;\n}\n/**\n * Turns a data url into a blob object\n *\n * @param {String} dataUrl\n * @return {Blob}\n */\n\nvar blob_blob = sequence(split, function (parts) {\n  return [decode(parts[1]), parts[0]];\n}, function (blob) {\n  return new Blob([uint8(blob[0])], {\n    type: blob[1]\n  });\n});\n// CONCATENATED MODULE: ./lib/style/image/index.js\n/**\n * Return a function for positioning a watermark on a target canvas\n *\n * @param {Function} xFn - a function to determine an x value\n * @param {Function} yFn - a function to determine a y value\n * @param {Number} alpha\n * @return {Function}\n */\nfunction atPos(xFn, yFn, alpha) {\n  alpha || (alpha = 1.0);\n  return function (target, watermark) {\n    var context = target.getContext('2d');\n    context.save();\n    context.globalAlpha = alpha;\n    context.drawImage(watermark, xFn(target, watermark), yFn(target, watermark));\n    context.restore();\n    return target;\n  };\n}\n/**\n * Place the watermark in the lower right corner of the target\n * image\n *\n * @param {Number} alpha\n * @return {Function}\n */\n\nfunction lowerRight(alpha) {\n  return atPos(function (target, mark) {\n    return target.width - (mark.width + 10);\n  }, function (target, mark) {\n    return target.height - (mark.height + 10);\n  }, alpha);\n}\n/**\n * Place the watermark in the upper right corner of the target\n * image\n *\n * @param {Number} alpha\n * @return {Function}\n */\n\nfunction upperRight(alpha) {\n  return atPos(function (target, mark) {\n    return target.width - (mark.width + 10);\n  }, function (target, mark) {\n    return 10;\n  }, alpha);\n}\n/**\n * Place the watermark in the lower left corner of the target\n * image\n *\n * @param {Number} alpha\n * @return {Function}\n */\n\nfunction lowerLeft(alpha) {\n  return atPos(function (target, mark) {\n    return 10;\n  }, function (target, mark) {\n    return target.height - (mark.height + 10);\n  }, alpha);\n}\n/**\n * Place the watermark in the upper left corner of the target\n * image\n *\n * @param {Number} alpha\n * @return {Function}\n */\n\nfunction upperLeft(alpha) {\n  return atPos(function (target, mark) {\n    return 10;\n  }, function (target, mark) {\n    return 10;\n  }, alpha);\n}\n/**\n * Place the watermark in the center of the target\n * image\n *\n * @param {Number} alpha\n * @return {Function}\n */\n\nfunction center(alpha) {\n  return atPos(function (target, mark) {\n    return (target.width - mark.width) / 2;\n  }, function (target, mark) {\n    return (target.height - mark.height) / 2;\n  }, alpha);\n}\n// CONCATENATED MODULE: ./lib/style/text/index.js\n/**\n * Return a function for positioning a watermark on a target canvas\n *\n * @param {Function} xFn - a function to determine an x value\n * @param {Function} yFn - a function to determine a y value\n * @param {String} text - the text to write\n * @param {String} font - same as the CSS font property\n * @param {String} fillStyle\n * @param {Number} alpha\n * @return {Function}\n */\nfunction text_atPos(xFn, yFn, text, font, fillStyle, alpha) {\n  alpha || (alpha = 1.0);\n  return function (target) {\n    var context = target.getContext('2d');\n    context.save();\n    context.globalAlpha = alpha;\n    context.fillStyle = fillStyle;\n    context.font = font;\n    var metrics = context.measureText(text);\n    context.fillText(text, xFn(target, metrics, context), yFn(target, metrics, context));\n    context.restore();\n    return target;\n  };\n}\n/**\n * Write text to the lower right corner of the target canvas\n *\n * @param {String} text - the text to write\n * @param {String} font - same as the CSS font property\n * @param {String} fillStyle\n * @param {Number} alpha - control text transparency\n * @param {Number} y - height in text metrics is not very well supported. This is a manual value\n * @return {Function}\n */\n\nfunction text_lowerRight(text, font, fillStyle, alpha, y) {\n  return text_atPos(function (target, metrics) {\n    return target.width - (metrics.width + 10);\n  }, function (target) {\n    return y || target.height - 10;\n  }, text, font, fillStyle, alpha);\n}\n/**\n * Write text to the lower left corner of the target canvas\n *\n * @param {String} text - the text to write\n * @param {String} font - same as the CSS font property\n * @param {String} fillStyle\n * @param {Number} alpha - control text transparency\n * @param {Number} y - height in text metrics is not very well supported. This is a manual value\n * @return {Function}\n */\n\nfunction text_lowerLeft(text, font, fillStyle, alpha, y) {\n  return text_atPos(function () {\n    return 10;\n  }, function (target) {\n    return y || target.height - 10;\n  }, text, font, fillStyle, alpha);\n}\n/**\n * Write text to the upper right corner of the target canvas\n *\n * @param {String} text - the text to write\n * @param {String} font - same as the CSS font property\n * @param {String} fillStyle\n * @param {Number} alpha - control text transparency\n * @param {Number} y - height in text metrics is not very well supported. This is a manual value\n * @return {Function}\n */\n\nfunction text_upperRight(text, font, fillStyle, alpha, y) {\n  return text_atPos(function (target, metrics) {\n    return target.width - (metrics.width + 10);\n  }, function () {\n    return y || 20;\n  }, text, font, fillStyle, alpha);\n}\n/**\n * Write text to the upper left corner of the target canvas\n *\n * @param {String} text - the text to write\n * @param {String} font - same as the CSS font property\n * @param {String} fillStyle\n * @param {Number} alpha - control text transparency\n * @param {Number} y - height in text metrics is not very well supported. This is a manual value\n * @return {Function}\n */\n\nfunction text_upperLeft(text, font, fillStyle, alpha, y) {\n  return text_atPos(function () {\n    return 10;\n  }, function () {\n    return y || 20;\n  }, text, font, fillStyle, alpha);\n}\n/**\n * Write text to the center of the target canvas\n *\n * @param {String} text - the text to write\n * @param {String} font - same as the CSS font property\n * @param {String} fillStyle\n * @param {Number} alpha - control text transparency\n * @param {Number} y - height in text metrics is not very well supported. This is a manual value\n * @return {Function}\n */\n\nfunction text_center(text, font, fillStyle, alpha, y) {\n  return text_atPos(function (target, metrics, ctx) {\n    ctx.textAlign = 'center';\n    return target.width / 2;\n  }, function (target, metrics, ctx) {\n    ctx.textBaseline = 'middle';\n    return target.height / 2;\n  }, text, font, fillStyle, alpha);\n}\n// CONCATENATED MODULE: ./lib/style/index.js\n\n\n/**\n * @typedef {Object} DrawResult\n * @property {HTMLCanvasElement} canvas - the end result of a draw\n * @property {HTMLCanvasElement[]} sources - the sources used in the draw\n */\n\nvar style_image = style_image_namespaceObject;\nvar style_text = text_namespaceObject;\n/**\n * Create a DrawResult by apply a list of canvas elements to a draw function\n *\n * @param {Function} draw - the draw function used to create a DrawResult\n * @param {HTMLCanvasElement} sources - the canvases used by the draw function\n * @return {DrawResult}\n */\n\nfunction style_result(draw, sources) {\n  var canvas = draw.apply(null, sources);\n  return {\n    canvas: canvas,\n    sources: sources\n  };\n}\n// CONCATENATED MODULE: ./lib/object/index.js\n/**\n * Extend one object with the properties of another\n *\n * @param {Object} first\n * @param {Object} second\n * @return {Object}\n */\nfunction extend(first, second) {\n  var secondKeys = Object.keys(second);\n  secondKeys.forEach(function (key) {\n    return first[key] = second[key];\n  });\n  return first;\n}\n/**\n * Create a shallow copy of the object\n *\n * @param {Object} obj\n * @return {Object}\n */\n\nfunction clone(obj) {\n  return extend({}, obj);\n}\n// CONCATENATED MODULE: ./lib/canvas/pool.js\n/**\n * An immutable canvas pool allowing more efficient use of canvas resources\n *\n * @typedef {Object} CanvasPool\n * @property {Function} pop - return a promise that will evaluate to a canvas\n * @property {Number} length - the number of available canvas elements\n * @property {HTMLCanvasElement[]} elements - the canvas elements used by the pool\n * @property {Function} clear - empty the pool of canvas elements\n * @property {Function} release - free a pool up for release and return the data url\n */\n\n/**\n * Create a CanvasPool with the given size\n *\n * @param {Number} size\n * @param {HTMLCanvasElement[]} elements\n * @param {EventEmitter} eventEmitter\n * @return {CanvasPool}\n */\nfunction CanvasPool() {\n  var canvases = [];\n  return {\n    /**\n     * Get the next available canvas from the pool\n     *\n     * @return {HTMLCanvasElement}\n     */\n    pop: function pop() {\n      if (this.length === 0) {\n        canvases.push(document.createElement('canvas'));\n      }\n\n      return canvases.pop();\n    },\n\n    /**\n     * Return the number of available canvas elements in the pool\n     *\n     * @return {Number}\n     */\n    get length() {\n      return canvases.length;\n    },\n\n    /**\n     * Return a canvas to the pool. This function will clear the canvas for reuse\n     *\n     * @param {HTMLCanvasElement} canvas\n     * @return {String}\n     */\n    release: function release(canvas) {\n      var context = canvas.getContext('2d');\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      canvases.push(canvas);\n    },\n\n    /**\n     * Empty the pool, destroying any references to canvas objects\n     */\n    clear: function clear() {\n      canvases.splice(0, canvases.length);\n    },\n\n    /**\n     * Return the collection of canvases in the pool\n     *\n     * @return {HTMLCanvasElement[]}\n     */\n    get elements() {\n      return canvases;\n    }\n\n  };\n}\nvar shared = CanvasPool();\n/* harmony default export */ var canvas_pool = (shared);\n// CONCATENATED MODULE: ./lib/index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return watermark; });\n\n\n\n\n\n\n/**\n * A configuration type for the watermark function\n *\n * @typedef {Object} Options\n * @property {Function} init - an initialization function that is given Image objects before loading (only applies if resources is a collection of urls)\n * @property {ImageFormat} type - specify the image format to be used when retrieving result (only supports \"image/png\" or \"image/jpeg\", default \"image/png\")\n * @property {Number} encoderOptions - specify the image compression quality from 0 to 1 (default 0.92)\n * @property {Number} poolSize - number of canvas elements available for drawing,\n * @property {CanvasPool} pool - the pool used. If provided, poolSize will be ignored\n */\n\n/**\n * @constant\n * @type {Options}\n */\n\nvar defaults = {\n  init: function init() {},\n  type: 'image/png',\n  encoderOptions: 0.92\n};\n/**\n * Merge the given options with the defaults\n *\n * @param {Options} options\n * @return {Options}\n */\n\nfunction mergeOptions(options) {\n  return extend(clone(defaults), options);\n}\n/**\n * Release canvases from a draw result for reuse. Returns\n * the dataURL from the result's canvas\n *\n * @param {DrawResult} result\n * @param {CanvasPool} pool\n * @return  {String}\n */\n\n\nfunction release(result, pool, parameters) {\n  var canvas = result.canvas,\n      sources = result.sources;\n  var dataURL = canvas_dataUrl(canvas, parameters);\n  sources.forEach(pool.release);\n  return dataURL;\n}\n/**\n * Return a watermark object\n *\n *\n * @param {Array} resources - a collection of urls, File objects, or Image objects\n * @param {Options} options - a configuration object for watermark\n * @param {Promise} promise - optional\n * @return {Object}\n */\n\n\nfunction watermark(resources) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var promise = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var opts = mergeOptions(options);\n  promise || (promise = image_load(resources, opts.init));\n  return {\n    /**\n     * Convert the watermarked image into a dataUrl. The draw\n     * function is given all images as canvas elements in order\n     *\n     * @param {Function} draw\n     * @return {Object}\n     */\n    dataUrl: function dataUrl(draw) {\n      var promise = this.then(function (images) {\n        return mapToCanvas(images, canvas_pool);\n      }).then(function (canvases) {\n        return style_result(draw, canvases);\n      }).then(function (result) {\n        return release(result, canvas_pool, {\n          type: opts.type,\n          encoderOptions: opts.encoderOptions\n        });\n      });\n      return watermark(resources, opts, promise);\n    },\n\n    /**\n     * Load additional resources\n     *\n     * @param {Array} resources - a collection of urls, File objects, or Image objects\n     * @param {Function} init - an initialization function that is given Image objects before loading (only applies if resources is a collection of urls)\n     * @return {Object}\n     */\n    load: function load(resources, init) {\n      var promise = this.then(function (resource) {\n        return image_load([resource].concat(resources), init);\n      });\n      return watermark(resources, opts, promise);\n    },\n\n    /**\n     * Render the current state of the watermarked image. Useful for performing\n     * actions after the watermark has been applied\n     *\n     * @return {Object}\n     */\n    render: function render() {\n      var promise = this.then(function (resource) {\n        return image_load([resource]);\n      });\n      return watermark(resources, opts, promise);\n    },\n\n    /**\n     * Convert the watermark into a blob\n     *\n     * @param {Function} draw\n     * @return {Object}\n     */\n    blob: function blob(draw) {\n      var promise = this.dataUrl(draw).then(blob_blob);\n      return watermark(resources, opts, promise);\n    },\n\n    /**\n     * Convert the watermark into an image using the given draw function\n     *\n     * @param {Function} draw\n     * @return {Object}\n     */\n    image: function image(draw) {\n      var promise = this.dataUrl(draw).then(createImage);\n      return watermark(resources, opts, promise);\n    },\n\n    /**\n     * Delegate to the watermark promise\n     *\n     * @return {Promise}\n     */\n    then: function then() {\n      for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n        funcs[_key] = arguments[_key];\n      }\n\n      return promise.then.apply(promise, funcs);\n    }\n  };\n}\n;\n/**\n * Style functions\n */\n\nwatermark.image = style_image;\nwatermark.text = style_text;\n/**\n * Clean up all canvas references\n */\n\nwatermark.destroy = function () {\n  return canvas_pool.clear();\n};\n\n/***/ })\n/******/ ]);\n});","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('b-form-file',{attrs:{\"multiple\":\"\",\"accept\":\"image/*\",\"state\":Boolean(_vm.files),\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\"},on:{\"input\":_vm.onInput},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}}),_c('div',{ref:\"preview\"}),_c('b-button',{on:{\"click\":_vm.send}},[_vm._v(\"Send\")]),_c('br'),_c('small',[_vm._v(\"images : \"+_vm._s(_vm.images))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <b-form-file multiple\r\n    accept=\"image/*\"\r\n    v-model=\"files\"\r\n    :state=\"Boolean(files)\"\r\n    placeholder=\"Choose a file or drop it here...\"\r\n    drop-placeholder=\"Drop file here...\"\r\n    @input=\"onInput\"\r\n    ></b-form-file>\r\n\r\n    <div ref=\"preview\"></div>\r\n    <b-button @click=\"send\">Send</b-button>\r\n    <br>\r\n    <small>images : {{ images }}</small>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet ldflex = window.solid\r\nimport FC from 'solid-file-client'\r\nconst fc = new FC( window.solid.auth )\r\nimport watermark from 'watermarkjs'\r\n\r\nexport default {\r\n  name: 'Upload',\r\n  props: ['images'],\r\n  data() {\r\n    return {\r\n      files: null\r\n    }\r\n  },\r\n  methods: {\r\n    async onInput(files){\r\n      console.log(files)\r\n      let preview = this.$refs.preview\r\n      let storage = await ldflex.data.user.storage\r\n      let path = `${storage}`+'public/portfolio/'\r\n      await files.forEach(async function(f)  {\r\n        console.log(f)\r\n        watermark([f])\r\n        .image(watermark.text.center(path, '30px Josefin Slab', '#fff', 0.8))\r\n        .then(img => {\r\n          img.name = f.name\r\n          img.type = f.type\r\n          img.width = \"250\"\r\n          img.height = \"250\"\r\n          preview.appendChild(img)});\r\n        })\r\n      },\r\n      async send(){\r\n        let app = this\r\n        let preview = this.$refs.preview\r\n        let dataURLtoFile = this.dataURLtoFile\r\n        var images = [].slice.call(preview.children);\r\n        console.log(images)\r\n        let storage = await ldflex.data.user.storage\r\n        let path = `${storage}`+'public/portfolio/'\r\n        console.log(path)\r\n        try{\r\n          await images.forEach(async function(i)  {\r\n            let uri = encodeURI(path+i.name)\r\n            console.log(uri)\r\n            !app.images.includes(uri) ? app.images.push(uri): \"\"\r\n            var file = dataURLtoFile(i.src,i.name);\r\n            await fc.createFile(uri, file, i.type)\r\n          })\r\n          alert(images.length+\" fichiers sauvegardés\")\r\n          this.$emit('imagesUploaded',app.images)\r\n\r\n        }catch(e){\r\n          alert(e)\r\n        }\r\n      },\r\n      dataURLtoFile(dataurl, filename) {\r\n        var arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n        while(n--){\r\n          u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new File([u8arr], filename, {type:mime});\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=34f84ee0&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}